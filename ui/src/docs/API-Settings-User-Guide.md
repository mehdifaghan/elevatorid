# 📖 راهنمای کاربری تنظیمات API

راهنمای استفاده از صفحه تنظیمات API برای کاربران عادی

## 🎯 چرا به تنظیمات API نیاز دارم؟

معمولاً شما نیازی به تغییر تنظیمات API ندارید. اما در موارد زیر ممکن است نیاز به تنظیمات داشته باشید:

1. **تست سیستم**: قبل از استفاده واقعی، می‌خواهید سیستم را تست کنید
2. **محیط توسعه**: برای توسعه‌دهندگان که روی نسخه جدید کار می‌کنند
3. **مشکل در اتصال**: وقتی نمی‌توانید به سرور اصلی متصل شوید
4. **سرور سازمانی**: سازمان شما سرور اختصاصی دارد

## 🚀 دسترسی به تنظیمات API

### روش 1️⃣: از صفحه اصلی

1. به آدرس سایت بروید
2. در بالای صفحه، روی دکمه **"تنظیمات API"** کلیک کنید
3. صفحه تنظیمات باز می‌شود

### روش 2️⃣: از صفحه ورود

1. به صفحه ورود بروید
2. زیر فرم ورود، روی دکمه **"تنظیمات API"** کلیک کنید
3. صفحه تنظیمات باز می‌شود

### روش 3️⃣: مستقیم

در مرورگر خود، آدرس زیر را وارد کنید:
```
https://yoursite.com/api-settings
```

## 📋 صفحه تنظیمات شامل چیست؟

### 1. پیکربندی فعلی

این بخش اطلاعات فعلی اتصال شما را نشان می‌دهد:

- **محیط فعال**: کدام سرور استفاده می‌شود (مثلاً سرور اصلی)
- **وضعیت اتصال**: آیا به سرور متصل هستید یا نه
- **Base URL**: آدرس پایه سرور
- **نسخه API**: نسخه API که استفاده می‌شود
- **URL کامل**: آدرس کامل اتصال

**عملیات:**
- 🔍 **بررسی اتصال**: با کلیک روی این دکمه، سیستم اتصال به سرور را تست می‌کند

### 2. انتخاب محیط

در این بخش می‌توانید محیط مورد نظر خود را انتخاب کنید:

#### محیط‌های از پیش تعریف شده:

1. **سرور اصلی** (Production) ⭐ توصیه شده
   - برای استفاده واقعی و روزمره
   - پایدار و قابل اطمینان
   - `https://api.elevatorid.ir/v1`

2. **سرور تست** (Staging)
   - برای تست قبل از استفاده واقعی
   - ممکن است گاهی تغییر کند
   - `https://staging.api.elevatorid.ir/v1`

3. **سرور توسعه** (Development)
   - برای توسعه‌دهندگان
   - آخرین ویژگی‌های جدید
   - `https://dev.api.elevatorid.ir/v1`

4. **سرور محلی** (Local)
   - برای توسعه در سیستم شخصی
   - `http://localhost:3000/v1`

5. **سرور سفارشی** (Custom)
   - آدرس دلخواه خودتان

### 3. تنظیمات سفارشی

اگر "سرور سفارشی" را انتخاب کنید، باید:

1. **آدرس سرور سفارشی** را وارد کنید
   - مثال: `https://api.mycompany.com`
   - ⚠️ توجه: بدون `/` در انتها

2. **نسخه API** را مشخص کنید
   - معمولاً `v1` است

3. روی **"اعمال تنظیمات سفارشی"** کلیک کنید

## 🔧 نحوه استفاده (گام به گام)

### سناریو 1: تغییر به سرور تست

```
1. به صفحه تنظیمات بروید
2. در بخش "انتخاب محیط"، گزینه "سرور تست" را انتخاب کنید
3. منتظر پیام "محیط به سرور تست تغییر کرد" باشید
4. روی دکمه "بررسی اتصال" کلیک کنید
5. اگر پیام "اتصال برقرار شد" دریافت کردید، آماده هستید
6. روی "ادامه و ورود به سیستم" کلیک کنید
```

### سناریو 2: استفاده از سرور سفارشی

```
1. به صفحه تنظیمات بروید
2. در بخش "انتخاب محیط"، گزینه "سرور سفارشی" را انتخاب کنید
3. در کادر "آدرس سرور سفارشی"، آدرس سرور خود را وارد کنید
   مثال: https://api.mycompany.ir
4. در کادر "نسخه API"، نسخه را وارد کنید (معمولاً v1)
5. روی "اعمال تنظیمات سفارشی" کلیک کنید
6. روی دکمه "بررسی اتصال" کلیک کنید تا مطمئن شوید
7. اگر موفق بود، روی "ادامه و ورود به سیستم" کلیک کنید
```

### سناریو 3: بازگشت به تنظیمات پیش‌فرض

```
1. به صفحه تنظیمات بروید
2. روی دکمه "بازنشانی به پیش‌فرض" کلیک کنید
3. تنظیمات به "سرور اصلی" (Production) بازمی‌گردد
4. پیام "تنظیمات به حالت پیش‌فرض بازگشت" نمایش داده می‌شود
```

## ✅ نشانه‌های موفقیت

### اتصال موفق:
- ✅ Badge سبز با نوشته "متصل"
- ✅ نمایش زمان پاسخ (مثلاً 150ms)
- ✅ پیام موفقیت سبز رنگ

### اتصال ناموفق:
- ❌ Badge قرمز با نوشته "قطع شده"
- ❌ پیام خطا قرمز رنگ
- ⚠️ نمایش علت خطا

## 🎨 فهم رنگ‌ها

| رنگ | معنی |
|-----|------|
| 🟢 سبز | اتصال موفق / عملیات موفق |
| 🔵 آبی | اطلاعات عمومی |
| 🟡 زرد | هشدار / توجه |
| 🔴 قرمز | خطا / اتصال ناموفق |
| ⚫ خاکستری | وضعیت نامشخص |

## ⚙️ عملیات‌ها

### 🔍 بررسی اتصال
- **چیست؟** تست اتصال به سرور انتخابی
- **کی استفاده کنم؟** قبل از ورود به سیستم یا بعد از تغییر تنظیمات
- **چقدر طول می‌کشد؟** معمولاً کمتر از 5 ثانیه

### 📋 کپی URL
- **چیست؟** کپی کردن آدرس کامل API
- **کی استفاده کنم؟** برای اشتراک‌گذاری با دیگران یا ذخیره
- **چطور؟** روی آیکون کپی کنار URL کلیک کنید

### 🔄 بازنشانی
- **چیست؟** بازگشت به تنظیمات پیش‌فرض
- **کی استفاده کنم؟** وقتی می‌خواهید همه چیز را به حالت اول برگردانید
- **احتیاط:** تمام تنظیمات سفارشی حذف می‌شود

## 🆘 مشکلات رایج و راه‌حل

### مشکل 1: نمی‌توانم به سرور متصل شوم

**راه‌حل‌ها:**
1. اتصال اینترنت خود را بررسی کنید
2. آدرس URL را دقیق بررسی کنید (بدون اشتباه تایپی)
3. مطمئن شوید که سرور فعال است
4. فایروال یا آنتی‌ویروس را موقتاً غیرفعال کنید
5. از مرورگر دیگری استفاده کنید

### مشکل 2: پیام "URL نامعتبر است"

**راه‌حل‌ها:**
1. مطمئن شوید URL با `https://` یا `http://` شروع شود
2. بدون `/` در انتها باشد
3. فرمت صحیح: `https://api.example.com`

### مشکل 3: تنظیمات ذخیره نمی‌شود

**راه‌حل‌ها:**
1. Cache مرورگر را پاک کنید
2. حالت ناشناس (Incognito) را امتحان نکنید (localStorage کار نمی‌کند)
3. مجوزهای مرورگر را بررسی کنید

### مشکل 4: بعد از بستن مرورگر، تنظیمات حفظ نمی‌شود

**دلیل:** در حالت ناشناس (Incognito/Private) مرور می‌کنید

**راه‌حل:** از حا��ت عادی مرورگر استفاده کنید

## 💡 نکات مهم

### ✅ انجام دهید:
- ✅ قبل از ورود، اتصال را تست کنید
- ✅ از "سرور اصلی" برای استفاده روزمره استفاده کنید
- ✅ تنظیمات را یادداشت کنید اگر سفارشی هستند

### ❌ انجام ندهید:
- ❌ URL اشتباه وارد نکنید
- ❌ در حالت ناشناس استفاده نکنید (تنظیمات ذخیره نمی‌شود)
- ❌ سرور تست را برای کار واقعی استفاده نکنید

## 🔒 امنیت و حریم خصوصی

### چه چیزی ذخیره می‌شود؟
- ✅ نام محیط انتخابی (مثلاً Production)
- ✅ URL سفارشی (اگر وارد کرده‌اید)
- ✅ نسخه API

### چه چیزی ذخیره نمی‌شود؟
- ❌ رمز عبور
- ❌ اطلاعات شخصی
- ❌ داده‌های حساس

### کجا ذخیره می‌شود؟
فقط در مرورگر شما (localStorage) - روی سرور ذخیره نمی‌شود

## 📞 نیاز به کمک؟

اگر باز هم مشکل دارید:

1. **مستندات کامل**: `/config/README.md` را بخوانید
2. **پشتیبانی فنی**: با تیم پشتیبانی تماس بگیرید
3. **راهنمای برنامه‌نویسان**: برای اطلاعات بیشتر به `/docs` مراجعه کنید

## 🎓 مثال‌های عملی

### مثال 1: کاربر عادی

```
سلام، من یک کاربر عادی هستم و فقط می‌خواهم از سیستم استفاده کنم.

گام‌ها:
1. به سایت بروید
2. روی "ورود" کلیک کنید
3. شماره موبایل را وارد کنید

⚠️ نیازی به تغییر تنظیمات API ندارید!
```

### مثال 2: تستر

```
سلام، من تستر هستم و می‌خواهم ویژگی‌های جدید را تست کنم.

گام‌ها:
1. به "تنظیمات API" بروید
2. "سرور تست" را انتخاب کنید
3. "بررسی اتصال" را بزنید
4. بعد از اتصال موفق، به صفحه ورود بروید
```

### مثال 3: توسعه‌دهنده

```
سلام، من توسعه‌دهنده هستم و روی سرور محلی کار می‌کنم.

گام‌ها:
1. سرور محلی را اجرا کنید (localhost:3000)
2. به "تنظیمات API" بروید
3. "سرور محلی" را انتخاب کنید
4. "بررسی اتصال" را بزنید
5. شروع به توسعه کنید
```

## 📊 خلاصه سریع

| سؤال | جواب |
|------|------|
| **آیا باید تنظیمات را تغییر دهم؟** | خیر، برای کاربران عادی نیازی نیست |
| **محیط پیش‌فرض چیست؟** | سرور اصلی (Production) |
| **تنظیمات کجا ذخیره می‌شود؟** | فقط در مرورگر شما |
| **آیا امن است؟** | بله، هیچ اطلاعات حساسی ذخیره نمی‌شود |
| **چطور به حالت اول برگردم؟** | دکمه "بازنشانی به پیش‌فرض" |

---

**آخرین به‌روزرسانی:** دی ۱۴۰۳  
**نسخه:** 1.0.0
