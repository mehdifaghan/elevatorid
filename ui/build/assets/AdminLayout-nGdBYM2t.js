import{a1 as f,r as d,i as x,a as g,u as j,U as b,H as m,y as v,v as S,w as N,x as p,X as w,_ as C,j as e,aj as L}from"./index-tH8kGzNV.js";import{L as y,S as k,a as A,b as M,c as P,d as I,e as H,f as E,g as h,h as F,i as O,j as U,H as W}from"./Header-CWE7BpEK.js";import{s as u}from"./settings.service-IQCLWV8g.js";import{M as _}from"./message-square-Gum9_klA.js";import{F as q}from"./file-text-DbNNqFYp.js";import"./avatar-MaNl8m6v.js";import"./dropdown-menu-BKfQT_JD.js";import"./Combination-Dzecd94B.js";import"./chevron-right-B97jr1RJ.js";import"./check-DV_4N94Y.js";import"./index-DGGMjIYi.js";import"./x-B6dSK8zO.js";import"./tooltip-CkdpyXMD.js";import"./index-BuiImgyP.js";import"./real-api-client-o-2gE2Hp.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]],G=f("tags",B);function R(){const[i,s]=d.useState({isCompleted:!1,isLocked:!1,isLoading:!0,shouldShowConfigMenu:!0,error:null});d.useEffect(()=>{n()},[]);const n=async()=>{try{s(t=>({...t,isLoading:!0,error:null}));const[a,r]=await Promise.all([u.isAPIConfigCompleted(),u.isAPIConfigLocked()]);s({isCompleted:a,isLocked:r,isLoading:!1,shouldShowConfigMenu:!a||a&&!r,error:null})}catch(a){console.error("خطا در بررسی وضعیت قفل:",a),s(r=>({...r,isLoading:!1,error:a instanceof Error?a.message:"خطا در بررسی وضعیت"}))}};return{...i,refreshStatus:()=>{n()}}}const T=[{title:"داشبورد",icon:y,path:"/admin"},{title:"پروفایل",icon:b,path:"/admin/profile"},{title:"تنظیمات",icon:m,path:"/admin/settings"},{title:"کاربران",icon:v,path:"/admin/users"},{title:"قطعات",icon:S,path:"/admin/parts"},{title:"مدیریت دسته‌بندی‌ها",icon:G,path:"/admin/categories"},{title:"انتقال‌ها",icon:N,path:"/admin/transfers"},{title:"آسانسورها",icon:p,path:"/admin/elevators"},{title:"درخواست‌ها و شکایات",icon:_,path:"/admin/requests"},{title:"گزارش‌ها",icon:w,path:"/admin/reports"},{title:"مدیریت API",icon:C,path:"/admin/api"},{title:"مستندات API",icon:q,path:"/admin/api-docs"},{title:"پیکربندی API",icon:m,path:"/admin/api-config"}];function z(){const i=x(),s=g(),{logout:n}=j(),{shouldShowConfigMenu:l}=R(),a=async()=>{await n(),s("/")},r=t=>{if(i.pathname.startsWith("/demo/admin")){const o=t.replace("/admin","/demo/admin");s(o)}else if(i.pathname.startsWith("/api/admin")){const o=t.replace("/admin","/api/admin");s(o)}else s(t)},c=T.filter(t=>!(t.path.endsWith("/api-config")&&!l));return e.jsxs(k,{side:"right",collapsible:"icon",className:"border-l rtl-sidebar",children:[e.jsx(A,{className:"p-4 border-b",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary rounded-lg flex items-center justify-center shrink-0",children:e.jsx(p,{className:"w-5 h-5 text-primary-foreground"})}),e.jsxs("div",{className:"text-right overflow-hidden",children:[e.jsx("h2",{className:"font-semibold text-base truncate",children:"سامانه ردیابی"}),e.jsx("p",{className:"text-sm text-muted-foreground truncate",children:"پنل مدیریت"})]})]})}),e.jsx(M,{className:"px-2 py-4",children:e.jsx(P,{children:e.jsx(I,{children:e.jsx(H,{children:c.map(t=>e.jsx(E,{children:e.jsxs(h,{onClick:()=>r(t.path),isActive:i.pathname===t.path||i.pathname===t.path.replace("/admin","/demo/admin")||i.pathname===t.path.replace("/admin","/api/admin"),tooltip:t.title,className:"w-full justify-start text-right flex-row-reverse hover:bg-accent transition-colors duration-200 sidebar-menu-button",children:[e.jsx("span",{className:"flex-1 text-right",children:t.title}),e.jsx(t.icon,{className:"w-5 h-5 text-muted-foreground shrink-0"})]})},t.path))})})})}),e.jsx(F,{className:"p-4 border-t",children:e.jsxs(h,{onClick:a,tooltip:"خروج",className:"w-full justify-start text-right flex-row-reverse text-destructive hover:text-destructive hover:bg-destructive/10 transition-colors duration-200 sidebar-menu-button",children:[e.jsx("span",{className:"flex-1 text-right",children:"خروج"}),e.jsx(O,{className:"w-5 h-5 shrink-0"})]})})]})}function ne(){return e.jsx(U,{defaultOpen:!0,children:e.jsx("div",{className:"min-h-screen w-full",dir:"rtl",children:e.jsxs("div",{className:"flex min-h-screen",children:[e.jsx(z,{}),e.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[e.jsx(W,{}),e.jsx("main",{className:"flex-1 p-3 sm:p-6 overflow-auto bg-background",children:e.jsx(L,{})})]})]})})})}export{ne as default};
