import{r as j,t as b,j as e,q as oe,B as m,H as he,C as D,e as L,Y as xe,Z as me,S as pe,_ as ue,L as p,p as x,V as je,b as ge,c as ve,K,d as Ne,o as R,z as ye,D as fe,E as z,F as B}from"./index-tH8kGzNV.js";import{T as be,a as Ce,b as J,c as A,d as we,e as S}from"./table-DC3MYrD8.js";import{D as W,b as Y,c as Z,d as X,e as Q}from"./dialog-DAjwwShP.js";import{S as k,a as O,b as U,c as M,d as o}from"./select-B8NiX_r6.js";import{T as ee}from"./textarea-1hTYB3HE.js";import{S as Ae}from"./switch-DOMxWR7b.js";import{A as Se}from"./APIDocDownloader-Dkq4YQZj.js";import{D as Ee}from"./download-BGqk_jGh.js";import{P as H}from"./plus-A2-5MgKF.js";import{S as Te}from"./search-8LTSveb2.js";import{K as Pe}from"./key-QVqY-mlN.js";import{C as Ie}from"./circle-play-CSNGU48T.js";import{C as De}from"./copy-CIVXPvX_.js";import{S as Le}from"./square-pen-BV4EFpYT.js";import{T as F}from"./trash-2-BwVZTJjK.js";import"./index-DGGMjIYi.js";import"./Combination-Dzecd94B.js";import"./x-B6dSK8zO.js";import"./index-BdQq_4o_.js";import"./index-BuiImgyP.js";import"./check-DV_4N94Y.js";import"./file-text-DbNNqFYp.js";function as(){const[N,P]=j.useState(""),[E,n]=j.useState("all"),[c,v]=j.useState("all"),[u,r]=j.useState([]),[i,y]=j.useState(!0),[h,C]=j.useState({baseUrl:"https://elevatorid.ieeu.ir",version:"v1",title:"سامانه ردیابی آسانسور",description:"API جامع برای مدیریت و ردیابی آسانسورها و قطعات",contact:{name:"تیم فنی",email:"api@elevatorid.ieeu.ir",url:"https://elevatorid.ieeu.ir/contact"},license:{name:"MIT",url:"https://opensource.org/licenses/MIT"},servers:[{url:"https://elevatorid.ieeu.ir/v1",description:"Production Server"},{url:"https://staging.elevatorid.ieeu.ir/v1",description:"Staging Server"},{url:"http://localhost:3000/v1",description:"Development Server"}]}),[a,t]=j.useState(!1),[d,l]=j.useState(!1),[T,V]=j.useState(null);j.useEffect(()=>{se()},[]);const se=async()=>{try{y(!0),r([])}catch(s){console.error("Error fetching endpoints:",s),b.error("خطا در بارگذاری Endpointها")}finally{y(!1)}},te={GET:"bg-green-100 text-green-800 border-green-300",POST:"bg-blue-100 text-blue-800 border-blue-300",PUT:"bg-yellow-100 text-yellow-800 border-yellow-300",DELETE:"bg-red-100 text-red-800 border-red-300",PATCH:"bg-purple-100 text-purple-800 border-purple-300"},ae={active:"bg-green-100 text-green-800 border-green-300",deprecated:"bg-orange-100 text-orange-800 border-orange-300",disabled:"bg-red-100 text-red-800 border-red-300"},re={active:"🟢 فعال",deprecated:"🟡 منسوخ",disabled:"🔴 غیرفعال"},$=u.filter(s=>{const g=s.name.toLowerCase().includes(N.toLowerCase())||s.path.toLowerCase().includes(N.toLowerCase())||s.description.includes(N),I=E==="all"||s.method===E,q=c==="all"||s.status===c;return g&&I&&q}),le=async()=>{try{const s={openapi:"3.0.0",info:{title:h.title,description:h.description,version:h.version,contact:h.contact,license:h.license},servers:h.servers,paths:{},components:{securitySchemes:{BearerAuth:{type:"http",scheme:"bearer",bearerFormat:"JWT"}}}};u.forEach(f=>{s.paths[f.path]||(s.paths[f.path]={}),s.paths[f.path][f.method.toLowerCase()]={summary:f.name,description:f.description,tags:f.tags,parameters:f.parameters.map(w=>({name:w.name,in:"query",required:w.required,description:w.description,schema:{type:w.type,default:w.defaultValue}})),responses:f.responses.reduce((w,_)=>(w[_.statusCode]={description:_.description},w),{}),...f.authenticated&&{security:[{BearerAuth:[]}]}}});const g=JSON.stringify(s,null,2),I=new Blob([g],{type:"application/json"}),q=URL.createObjectURL(I),G=document.createElement("a");G.href=q,G.download="openapi-spec.json",G.click(),b.success("فایل OpenAPI تولید شد",{description:"فایل openapi-spec.json دانلود شد",duration:3e3})}catch(s){console.error("Error generating OpenAPI:",s),b.error("خطا در تولید فایل OpenAPI")}},ie=s=>{b.info(`تست API: ${s.method} ${s.path}`,{description:"درخواست آزمایشی ارسال شد",duration:3e3})},ne=s=>{const g=`curl -X ${s.method} "${h.baseUrl}${s.path}"${s.authenticated?' -H "Authorization: Bearer YOUR_TOKEN"':""}`;navigator.clipboard.writeText(g),b.success("کپی شد",{description:"دستور cURL در کلیپ‌بورد کپی شد",duration:2e3})},ce=async s=>{try{T?(r(g=>g.map(I=>I.id===s.id?s:I)),b.success("Endpoint بروزرسانی شد")):(r(g=>[...g,{...s,id:Date.now().toString()}]),b.success("Endpoint جدید ایجاد شد")),t(!1),V(null)}catch(g){console.error("Error saving endpoint:",g),b.error("خطا در ذخیره Endpoint")}},de=async s=>{try{C(s),l(!1),b.success("تنظیمات ذخیره شد")}catch(g){console.error("Error saving config:",g),b.error("خطا در ذخیره تنظیمات")}};return i?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(oe,{className:"h-8 w-8 animate-spin mx-auto"}),e.jsx("p",{className:"text-muted-foreground",children:"در حال بارگذاری مدیریت API..."})]})}):e.jsxs("div",{className:"p-6 space-y-6",dir:"rtl",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"مدیریت API"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"طراحی، تست و مستندسازی APIهای سامانه"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(m,{onClick:()=>l(!0),variant:"outline",className:"flex items-center gap-2",children:[e.jsx(he,{className:"w-4 h-4"}),"تنظیمات API"]}),e.jsxs(m,{onClick:le,variant:"outline",className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"w-4 h-4"}),"دانلود OpenAPI"]}),e.jsxs(m,{onClick:()=>t(!0),className:"flex items-center gap-2 bg-black hover:bg-gray-800 text-white",children:[e.jsx(H,{className:"w-4 h-4"}),"Endpoint جدید"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(D,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(xe,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"کل Endpointها"}),e.jsx("p",{className:"text-xl font-bold",children:u.length})]})]})})}),e.jsx(D,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(me,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"فعال"}),e.jsx("p",{className:"text-xl font-bold text-green-600",children:u.filter(s=>s.status==="active").length})]})]})})}),e.jsx(D,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:e.jsx(pe,{className:"w-5 h-5 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"احراز هویت"}),e.jsx("p",{className:"text-xl font-bold text-orange-600",children:u.filter(s=>s.authenticated).length})]})]})})}),e.jsx(D,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(ue,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"نسخه API"}),e.jsx("p",{className:"text-xl font-bold text-purple-600",children:h.version})]})]})})})]}),e.jsx(D,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{children:"جستجو"}),e.jsxs("div",{className:"relative",children:[e.jsx(Te,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(x,{placeholder:"جستجو در Endpointها...",value:N,onChange:s=>P(s.target.value),className:"pr-10",style:{textAlign:"right",direction:"rtl"}})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{children:"Method"}),e.jsxs(k,{value:E,onValueChange:s=>n(s),children:[e.jsx(O,{children:e.jsx(U,{placeholder:"همه Methods"})}),e.jsxs(M,{children:[e.jsx(o,{value:"all",children:"همه Methods"}),e.jsx(o,{value:"GET",children:"GET"}),e.jsx(o,{value:"POST",children:"POST"}),e.jsx(o,{value:"PUT",children:"PUT"}),e.jsx(o,{value:"DELETE",children:"DELETE"}),e.jsx(o,{value:"PATCH",children:"PATCH"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{children:"وضعیت"}),e.jsxs(k,{value:c,onValueChange:s=>v(s),children:[e.jsx(O,{children:e.jsx(U,{placeholder:"همه وضعیت‌ها"})}),e.jsxs(M,{children:[e.jsx(o,{value:"all",children:"همه وضعیت‌ها"}),e.jsx(o,{value:"active",children:"فعال"}),e.jsx(o,{value:"deprecated",children:"منسوخ"}),e.jsx(o,{value:"disabled",children:"غیرفعال"})]})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs(m,{variant:"outline",onClick:()=>{P(""),n("all"),v("all")},className:"w-full",children:[e.jsx(je,{className:"w-4 h-4 ml-2"}),"پاک کردن فیلترها"]})})]})})}),e.jsxs(D,{children:[e.jsxs(ge,{children:[e.jsxs(ve,{className:"flex items-center gap-2",children:[e.jsx(K,{className:"w-5 h-5"}),"Endpointهای API"]}),e.jsx(Ne,{children:"مدیریت و پیکربندی endpointهای سامانه"})]}),e.jsxs(L,{className:"p-0",children:[e.jsxs(be,{children:[e.jsx(Ce,{children:e.jsxs(J,{children:[e.jsx(A,{className:"text-right",children:"نام"}),e.jsx(A,{className:"text-right",children:"Method"}),e.jsx(A,{className:"text-right",children:"مسیر"}),e.jsx(A,{className:"text-right",children:"وضعیت"}),e.jsx(A,{className:"text-right",children:"احراز هویت"}),e.jsx(A,{className:"text-right",children:"Rate Limit"}),e.jsx(A,{className:"text-right",children:"آخرین بروزرسانی"}),e.jsx(A,{className:"text-right",children:"عملیات"})]})}),e.jsx(we,{children:$.map(s=>e.jsxs(J,{children:[e.jsx(S,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.name}),e.jsx("p",{className:"text-sm text-gray-500 truncate max-w-xs",children:s.description})]})}),e.jsx(S,{children:e.jsx(R,{className:te[s.method],children:s.method})}),e.jsx(S,{children:e.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-sm",children:s.path})}),e.jsx(S,{children:e.jsx(R,{className:ae[s.status],children:re[s.status]})}),e.jsx(S,{children:s.authenticated?e.jsxs(R,{className:"bg-orange-100 text-orange-800",children:[e.jsx(Pe,{className:"w-3 h-3 ml-1"}),"بله"]}):e.jsx(R,{className:"bg-gray-100 text-gray-800",children:"خیر"})}),e.jsxs(S,{children:[s.rateLimit,"/h"]}),e.jsx(S,{children:s.updatedAt}),e.jsx(S,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(m,{variant:"outline",size:"sm",onClick:()=>ie(s),className:"flex items-center gap-1",children:[e.jsx(Ie,{className:"w-3 h-3"}),"تست"]}),e.jsxs(m,{variant:"outline",size:"sm",onClick:()=>ne(s),className:"flex items-center gap-1",children:[e.jsx(De,{className:"w-3 h-3"}),"کپی"]}),e.jsxs(m,{variant:"outline",size:"sm",onClick:()=>{V(s),t(!0)},className:"flex items-center gap-1",children:[e.jsx(Le,{className:"w-3 h-3"}),"ویرایش"]})]})})]},s.id))})]}),$.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(K,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"هیچ Endpointی یافت نشد"})]})]})]}),e.jsx(W,{open:a,onOpenChange:t,children:e.jsxs(Y,{className:"max-w-4xl max-h-[90vh] overflow-hidden",style:{direction:"rtl",textAlign:"right"},children:[e.jsxs(Z,{children:[e.jsx(X,{style:{textAlign:"right"},children:T?"ویرایش Endpoint":"ایجاد Endpoint جدید"}),e.jsx(Q,{style:{textAlign:"right"},children:"تنظیمات و پیکربندی endpoint API"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx(ke,{endpoint:T,onSave:ce,onCancel:()=>{t(!1),V(null)}})})]})}),e.jsx(W,{open:d,onOpenChange:l,children:e.jsxs(Y,{className:"max-w-3xl",style:{direction:"rtl",textAlign:"right"},children:[e.jsxs(Z,{children:[e.jsx(X,{style:{textAlign:"right"},children:"تنظیمات عمومی API"}),e.jsx(Q,{style:{textAlign:"right"},children:"پیکربندی اطلاعات کلی و سرورهای API"})]}),e.jsx(Oe,{config:h,onSave:de,onCancel:()=>l(!1)})]})}),e.jsx(Se,{})]})}function ke({endpoint:N,onSave:P,onCancel:E}){const[n,c]=j.useState(N||{name:"",method:"GET",path:"",description:"",parameters:[],responses:[],tags:[],authenticated:!1,rateLimit:100,status:"active",version:"v1"}),[v,u]=j.useState(N?.parameters||[]),[r,i]=j.useState(N?.responses||[]),y=a=>{a.preventDefault();const t=new Date().toLocaleDateString("fa-IR"),d={...n,parameters:v,responses:r,createdAt:N?.createdAt||t,updatedAt:t};P(d)},h=()=>{u(a=>[...a,{name:"",type:"string",required:!1,description:"",defaultValue:void 0,example:void 0}])},C=()=>{i(a=>[...a,{statusCode:200,description:"",schema:{}}])};return e.jsxs("form",{onSubmit:y,className:"space-y-6 p-6",dir:"rtl",children:[e.jsxs(ye,{defaultValue:"basic",className:"w-full",children:[e.jsxs(fe,{className:"grid w-full grid-cols-4",children:[e.jsx(z,{value:"basic",children:"اطلاعات اصلی"}),e.jsx(z,{value:"parameters",children:"پارامترها"}),e.jsx(z,{value:"responses",children:"پاسخ‌ها"}),e.jsx(z,{value:"security",children:"امنیت"})]}),e.jsxs(B,{value:"basic",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{children:"نام Endpoint *"}),e.jsx(x,{placeholder:"نام Endpoint",value:n.name||"",onChange:a=>c(t=>({...t,name:a.target.value})),required:!0,style:{textAlign:"right",direction:"rtl"}})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{children:"Method HTTP *"}),e.jsxs(k,{value:n.method||"GET",onValueChange:a=>c(t=>({...t,method:a})),children:[e.jsx(O,{children:e.jsx(U,{})}),e.jsxs(M,{children:[e.jsx(o,{value:"GET",children:"GET"}),e.jsx(o,{value:"POST",children:"POST"}),e.jsx(o,{value:"PUT",children:"PUT"}),e.jsx(o,{value:"DELETE",children:"DELETE"}),e.jsx(o,{value:"PATCH",children:"PATCH"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{children:"مسیر API *"}),e.jsx(x,{placeholder:"/api/v1/resource",value:n.path||"",onChange:a=>c(t=>({...t,path:a.target.value})),required:!0,style:{textAlign:"right",direction:"rtl"}})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{children:"وضعیت"}),e.jsxs(k,{value:n.status||"active",onValueChange:a=>c(t=>({...t,status:a})),children:[e.jsx(O,{children:e.jsx(U,{})}),e.jsxs(M,{children:[e.jsx(o,{value:"active",children:"فعال"}),e.jsx(o,{value:"deprecated",children:"منسوخ"}),e.jsx(o,{value:"disabled",children:"غیرفعال"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{children:"توضیحات"}),e.jsx(ee,{placeholder:"توضیحات Endpoint...",value:n.description||"",onChange:a=>c(t=>({...t,description:a.target.value})),rows:3,style:{textAlign:"right",direction:"rtl"}})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{children:"برچسب‌ها"}),e.jsx(x,{placeholder:"مثال: Users, Authentication",value:n.tags?.join(", ")||"",onChange:a=>c(t=>({...t,tags:a.target.value.split(",").map(d=>d.trim()).filter(Boolean)})),style:{textAlign:"right",direction:"rtl"}})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{children:"محدودیت نرخ (درخواست در ساعت)"}),e.jsx(x,{type:"number",placeholder:"100",value:n.rateLimit||"",onChange:a=>c(t=>({...t,rateLimit:Number(a.target.value)})),style:{textAlign:"right",direction:"rtl"}})]})]})]}),e.jsxs(B,{value:"parameters",className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"font-medium",children:"پارامترهای ورودی"}),e.jsxs(m,{type:"button",onClick:h,variant:"outline",size:"sm",children:[e.jsx(H,{className:"w-4 h-4 ml-2"}),"افزودن پارامتر"]})]}),e.jsx("div",{className:"space-y-3",children:v.map((a,t)=>e.jsxs("div",{className:"grid grid-cols-6 gap-2 p-3 border rounded",children:[e.jsx(x,{placeholder:"نام پارامتر",value:a.name,onChange:d=>{const l=[...v];l[t].name=d.target.value,u(l)},style:{textAlign:"right",direction:"rtl"}}),e.jsxs(k,{value:a.type,onValueChange:d=>{const l=[...v];l[t].type=d,u(l)},children:[e.jsx(O,{children:e.jsx(U,{})}),e.jsxs(M,{children:[e.jsx(o,{value:"string",children:"String"}),e.jsx(o,{value:"number",children:"Number"}),e.jsx(o,{value:"boolean",children:"Boolean"}),e.jsx(o,{value:"object",children:"Object"}),e.jsx(o,{value:"array",children:"Array"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:a.required,onChange:d=>{const l=[...v];l[t].required=d.target.checked,u(l)}}),e.jsx("span",{className:"text-sm",children:"الزامی"})]}),e.jsx(x,{placeholder:"توضیحات",value:a.description,onChange:d=>{const l=[...v];l[t].description=d.target.value,u(l)},style:{textAlign:"right",direction:"rtl"}}),e.jsx(x,{placeholder:"مقدار پیش‌فرض",value:a.defaultValue||"",onChange:d=>{const l=[...v];l[t].defaultValue=d.target.value,u(l)},style:{textAlign:"right",direction:"rtl"}}),e.jsx(m,{type:"button",variant:"outline",size:"sm",onClick:()=>u(d=>d.filter((l,T)=>T!==t)),children:e.jsx(F,{className:"w-4 h-4"})})]},t))})]}),e.jsxs(B,{value:"responses",className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"font-medium",children:"پاسخ‌های ممکن"}),e.jsxs(m,{type:"button",onClick:C,variant:"outline",size:"sm",children:[e.jsx(H,{className:"w-4 h-4 ml-2"}),"افزودن پاسخ"]})]}),e.jsx("div",{className:"space-y-3",children:r.map((a,t)=>e.jsxs("div",{className:"grid grid-cols-4 gap-2 p-3 border rounded",children:[e.jsx(x,{type:"number",placeholder:"کد وضعیت",value:a.statusCode,onChange:d=>{const l=[...r];l[t].statusCode=Number(d.target.value),i(l)},style:{textAlign:"right",direction:"rtl"}}),e.jsx(x,{placeholder:"توضیحات پاسخ",value:a.description,onChange:d=>{const l=[...r];l[t].description=d.target.value,i(l)},className:"col-span-2",style:{textAlign:"right",direction:"rtl"}}),e.jsx(m,{type:"button",variant:"outline",size:"sm",onClick:()=>i(d=>d.filter((l,T)=>T!==t)),children:e.jsx(F,{className:"w-4 h-4"})})]},t))})]}),e.jsx(B,{value:"security",className:"space-y-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"نیاز به احراز هویت"}),e.jsx("p",{className:"text-sm text-gray-600",children:"آیا این endpoint نیاز به احراز هویت دارد؟"})]}),e.jsx(Ae,{checked:n.authenticated||!1,onCheckedChange:a=>c(t=>({...t,authenticated:a}))})]}),n.authenticated&&e.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-200",children:[e.jsx("h4",{className:"font-medium text-orange-800 mb-2",children:"تنظیمات احراز هویت"}),e.jsx("p",{className:"text-sm text-orange-700",children:"این endpoint از JWT Bearer Token برای احراز هویت استفاده می‌کند. کاربران باید header Authorization با Bearer token ارسال کنند."})]})]})})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx(m,{type:"button",variant:"outline",onClick:E,children:"انصراف"}),e.jsx(m,{type:"submit",className:"bg-black hover:bg-gray-800 text-white",children:"ذخیره Endpoint"})]})]})}function Oe({config:N,onSave:P,onCancel:E}){const[n,c]=j.useState(N),v=r=>{r.preventDefault(),P(n)},u=()=>{c(r=>({...r,servers:[...r.servers,{url:"",description:""}]}))};return e.jsxs("form",{onSubmit:v,className:"space-y-6",dir:"rtl",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{children:"عنوان API"}),e.jsx(x,{placeholder:"عنوان API",value:n.title,onChange:r=>c(i=>({...i,title:r.target.value})),style:{textAlign:"right",direction:"rtl"}})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{children:"نسخه"}),e.jsx(x,{placeholder:"v1",value:n.version,onChange:r=>c(i=>({...i,version:r.target.value})),style:{textAlign:"right",direction:"rtl"}})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{children:"URL پایه"}),e.jsx(x,{placeholder:"https://elevatorid.ieeu.ir",value:n.baseUrl,onChange:r=>c(i=>({...i,baseUrl:r.target.value})),style:{textAlign:"right",direction:"rtl"}})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{children:"توضیحات"}),e.jsx(ee,{placeholder:"توضیحات API...",value:n.description,onChange:r=>c(i=>({...i,description:r.target.value})),rows:3,style:{textAlign:"right",direction:"rtl"}})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{children:"نام تماس"}),e.jsx(x,{placeholder:"نام تیم فنی",value:n.contact.name,onChange:r=>c(i=>({...i,contact:{...i.contact,name:r.target.value}})),style:{textAlign:"right",direction:"rtl"}})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{children:"ایمیل تماس"}),e.jsx(x,{type:"email",placeholder:"api@elevatorid.ieeu.ir",value:n.contact.email,onChange:r=>c(i=>({...i,contact:{...i.contact,email:r.target.value}})),style:{textAlign:"right",direction:"rtl"}})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"font-medium",children:"سرورها"}),e.jsxs(m,{type:"button",onClick:u,variant:"outline",size:"sm",children:[e.jsx(H,{className:"w-4 h-4 ml-2"}),"افزودن سرور"]})]}),e.jsx("div",{className:"space-y-3",children:n.servers.map((r,i)=>e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx(x,{placeholder:"URL سرور",value:r.url,onChange:y=>{const h=[...n.servers];h[i].url=y.target.value,c(C=>({...C,servers:h}))},style:{textAlign:"right",direction:"rtl"}}),e.jsx(x,{placeholder:"توضیحات سرور",value:r.description,onChange:y=>{const h=[...n.servers];h[i].description=y.target.value,c(C=>({...C,servers:h}))},style:{textAlign:"right",direction:"rtl"}}),e.jsx(m,{type:"button",variant:"outline",size:"sm",onClick:()=>c(y=>({...y,servers:y.servers.filter((h,C)=>C!==i)})),children:e.jsx(F,{className:"w-4 h-4"})})]},i))})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx(m,{type:"button",variant:"outline",onClick:E,children:"انصراف"}),e.jsx(m,{type:"submit",className:"bg-black hover:bg-gray-800 text-white",children:"ذخیره تنظیمات"})]})]})}export{as as default};
