import{r as h,$ as q,j as e,x as A,B as l,L as j,p as M,C as n,e as d,b as V,c as G,o as $,t as p}from"./index-tH8kGzNV.js";import{D as J,a as K,b as Q,c as U,d as W,e as X}from"./dialog-DAjwwShP.js";import{S as Y,a as Z,b as _,c as ee,d as S}from"./select-B8NiX_r6.js";import{S as B}from"./switch-DOMxWR7b.js";import{T as se}from"./textarea-1hTYB3HE.js";import{T as te,a as ae,b as R,c as y,d as re,e as N}from"./table-DC3MYrD8.js";import{D as ie,a as le,b as ce,c as D}from"./dropdown-menu-BKfQT_JD.js";import{P as T}from"./plus-A2-5MgKF.js";import{T as H}from"./trash-2-BwVZTJjK.js";import{S as I}from"./search-8LTSveb2.js";import{E as ne}from"./ellipsis-J_HkHiqq.js";import{S as de}from"./square-pen-BV4EFpYT.js";import"./index-DGGMjIYi.js";import"./Combination-Dzecd94B.js";import"./x-B6dSK8zO.js";import"./index-BdQq_4o_.js";import"./index-BuiImgyP.js";import"./check-DV_4N94Y.js";import"./chevron-right-B97jr1RJ.js";const xe=[{id:"1",name:"آسانسور هیدرولیک",description:"آسانسور با سیستم هیدرولیک مناسب برای ساختمان‌های کم طبقه تا 6 طبقه، قابلیت حمل بار تا 2500 کیلوگرم",isActive:!0,createdAt:"۱۴۰۲/۰۹/۱۵"},{id:"2",name:"آسانسور کششی",description:"آسانسور با سیستم کششی شامل MRL (بدون موتورخانه) و کلاسیک (با موتورخانه) مناسب برای ساختمان‌های بلند",isActive:!0,createdAt:"۱۴۰۲/۰۹/۱۴"}];function Ee({triggerDialog:k}){const[a,v]=h.useState(xe),[x,m]=h.useState(null),[z,c]=h.useState(!1),[u,E]=h.useState("all");q.useEffect(()=>{k&&(g(),m(null),c(!0))},[k]);const[b,C]=h.useState(""),[i,o]=h.useState({name:"",description:"",isActive:!0}),g=()=>{o({name:"",description:"",isActive:!0})},O=s=>{if(s.preventDefault(),!i.name.trim()){p.error("نوع آسانسور الزامی است");return}if(x)v(t=>t.map(r=>r.id===x.id?{...r,...i,name:i.name.trim(),description:i.description.trim()}:r)),p.success("نوع آسانسور بروزرسانی شد");else{const t={...i,id:Date.now().toString(),name:i.name.trim(),description:i.description.trim(),createdAt:new Date().toLocaleDateString("fa-IR")};v(r=>[...r,t]),p.success("نوع آسانسور جدید ایجاد شد")}c(!1),g(),m(null)},P=s=>{m(s),o({name:s.name,description:s.description,isActive:s.isActive}),c(!0)},L=s=>{window.confirm(`آیا از حذف نوع آسانسور "${s.name}" اطمینان دارید؟`)&&(v(t=>t.filter(r=>r.id!==s.id)),p.success("نوع آسانسور حذف شد"))},F=s=>{v(r=>r.map(w=>w.id===s?{...w,isActive:!w.isActive}:w));const t=a.find(r=>r.id===s);t&&p.success(`نوع آسانسور "${t.name}" ${t.isActive?"غیرفعال":"فعال"} شد`)},f=a.filter(s=>{const t=s.name.toLowerCase().includes(b.toLowerCase())||s.description.toLowerCase().includes(b.toLowerCase()),r=u==="all"||u==="active"&&s.isActive||u==="inactive"&&!s.isActive;return t&&r});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"w-5 h-5 text-gray-900"}),e.jsx("h3",{className:"text-lg text-gray-900",children:"مدیریت انواع آسانسور"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(J,{open:z,onOpenChange:c,children:[e.jsx(K,{asChild:!0,children:e.jsxs(l,{onClick:()=>{g(),m(null)},className:"flex items-center gap-2 bg-gray-900 hover:bg-gray-800 text-white",children:[e.jsx(T,{className:"w-4 h-4"}),"نوع آسانسور جدید"]})}),e.jsxs(Q,{className:"max-w-md",style:{direction:"rtl",textAlign:"right"},children:[e.jsxs(U,{style:{textAlign:"right"},children:[e.jsx(W,{style:{textAlign:"right"},children:x?"ویرایش نوع آسانسور":"تعریف نوع آسانسور جدید"}),e.jsx(X,{style:{textAlign:"right"},children:"نوع آسانسور و توضیحات آن را تعریف کنید"})]}),e.jsxs("form",{onSubmit:O,className:"space-y-4",style:{direction:"rtl"},children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"name",style:{textAlign:"right",display:"block"},children:"نوع آسانسور *"}),e.jsx(M,{id:"name",value:i.name,onChange:s=>o(t=>({...t,name:s.target.value})),placeholder:"مثال: آسانسور هیدرولیک",required:!0,style:{textAlign:"right",direction:"rtl"}})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"description",style:{textAlign:"right",display:"block"},children:"توضیحات"}),e.jsx(se,{id:"description",value:i.description,onChange:s=>o(t=>({...t,description:s.target.value})),placeholder:"توضیحات مربوط به این نوع آسانسور...",rows:3,style:{textAlign:"right",direction:"rtl"}})]}),e.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[e.jsx(j,{htmlFor:"isActive",style:{textAlign:"right"},children:"فعال"}),e.jsx(B,{id:"isActive",checked:i.isActive,onCheckedChange:s=>o(t=>({...t,isActive:s}))})]}),e.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[x&&e.jsxs(l,{type:"button",variant:"destructive",onClick:()=>{L(x),c(!1)},className:"flex items-center gap-2",children:[e.jsx(H,{className:"w-4 h-4"}),"حذف"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(l,{type:"button",variant:"outline",onClick:()=>c(!1),children:"انصراف"}),e.jsx(l,{type:"submit",children:x?"بروزرسانی":"ایجاد"})]})]})]})]})]})})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{className:"text-gray-700",children:"جستجو در انواع آسانسور"}),e.jsxs("div",{className:"relative",children:[e.jsx(I,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(M,{placeholder:"جستجو بر اساس نام یا توضیحات...",value:b,onChange:s=>C(s.target.value),className:"bg-white pr-10 border-gray-300 focus:border-gray-900",style:{textAlign:"right",direction:"rtl"}})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{className:"text-gray-700",children:"فیلتر بر اساس وضعیت"}),e.jsxs(Y,{value:u,onValueChange:E,children:[e.jsx(Z,{className:"bg-white border-gray-300 focus:border-gray-900",style:{textAlign:"right",direction:"rtl"},children:e.jsx(_,{})}),e.jsxs(ee,{style:{direction:"rtl"},children:[e.jsxs(S,{value:"all",children:["همه موارد (",a.length,")"]}),e.jsxs(S,{value:"active",children:["فعال (",a.filter(s=>s.isActive).length,")"]}),e.jsxs(S,{value:"inactive",children:["غیرفعال (",a.filter(s=>!s.isActive).length,")"]})]})]})]})]}),b&&e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:e.jsxs("p",{className:"text-sm text-gray-700",children:["نتایج جستجو: ",e.jsx("span",{className:"font-medium",children:f.length})," مورد از ",a.length," نوع آسانسور",e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>C(""),className:"mr-2 text-gray-600 hover:text-gray-800",children:"پاک کردن جستجو"})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(n,{className:"border border-gray-200 bg-white hover:shadow-sm transition-shadow",children:e.jsxs(d,{className:"p-4 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx(A,{className:"w-5 h-5 text-gray-700"}),e.jsx("div",{className:"text-2xl text-gray-900",children:a.length})]}),e.jsx("div",{className:"text-sm text-gray-600",children:"کل انواع آسانسور"})]})}),e.jsx(n,{className:"border border-gray-200 bg-white hover:shadow-sm transition-shadow",children:e.jsxs(d,{className:"p-4 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx("span",{className:"text-gray-700",children:"✓"}),e.jsx("div",{className:"text-2xl text-gray-900",children:a.filter(s=>s.isActive).length})]}),e.jsx("div",{className:"text-sm text-gray-600",children:"انواع فعال"})]})}),e.jsx(n,{className:"border border-gray-200 bg-white hover:shadow-sm transition-shadow",children:e.jsxs(d,{className:"p-4 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx("span",{className:"text-gray-700",children:"○"}),e.jsx("div",{className:"text-2xl text-gray-900",children:a.filter(s=>!s.isActive).length})]}),e.jsx("div",{className:"text-sm text-gray-600",children:"انواع غیرفعال"})]})}),e.jsx(n,{className:"border border-gray-200 bg-white hover:shadow-sm transition-shadow",children:e.jsxs(d,{className:"p-4 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx("span",{className:"text-gray-700",children:"%"}),e.jsxs("div",{className:"text-2xl text-gray-900",children:[Math.round(a.filter(s=>s.isActive).length/a.length*100)||0,"%"]})]}),e.jsx("div",{className:"text-sm text-gray-600",children:"نرخ فعال‌سازی"})]})})]}),e.jsxs(n,{className:"border border-gray-200 bg-white",children:[e.jsx(V,{className:"bg-white border-b border-gray-200",children:e.jsxs(G,{className:"flex items-center gap-2 text-gray-900",children:[e.jsx(A,{className:"w-5 h-5 text-gray-700"}),"لیست انواع آسانسور",e.jsxs($,{variant:"outline",className:"mr-auto border-gray-300 text-gray-700",children:[f.length," مورد"]})]})}),e.jsx(d,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(te,{children:[e.jsx(ae,{children:e.jsxs(R,{className:"bg-gray-50",children:[e.jsx(y,{className:"w-[25%] text-right text-gray-900",children:"نوع آسانسور"}),e.jsx(y,{className:"w-[40%] text-right text-gray-900",children:"توضیحات"}),e.jsx(y,{className:"w-[120px] text-right text-gray-900",children:"وضعیت"}),e.jsx(y,{className:"w-[110px] text-right text-gray-900",children:"تاریخ ایجاد"}),e.jsx(y,{className:"w-[100px] text-center text-gray-900",children:"عملیات"})]})}),e.jsx(re,{children:f.map((s,t)=>e.jsxs(R,{className:`transition-colors hover:bg-gray-50 ${s.isActive?"":"opacity-60 bg-gray-25"}`,children:[e.jsx(N,{className:"text-right",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 bg-gray-100 rounded-full flex items-center justify-center text-xs text-gray-700",children:t+1}),e.jsx("span",{className:"text-gray-900",children:s.name})]})}),e.jsx(N,{className:"text-right",children:e.jsx("div",{className:"text-sm text-gray-600 line-clamp-2 leading-relaxed",children:s.description||"-"})}),e.jsx(N,{className:"text-right",children:e.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[e.jsx($,{variant:s.isActive?"default":"secondary",className:`text-xs ${s.isActive?"bg-gray-900 text-white":"bg-gray-100 text-gray-600"}`,children:s.isActive?"فعال":"غیرفعال"}),e.jsx(B,{checked:s.isActive,onCheckedChange:()=>F(s.id),className:"scale-75"})]})}),e.jsx(N,{className:"text-sm text-gray-600 text-right",children:s.createdAt}),e.jsx(N,{children:e.jsx("div",{className:"flex items-center justify-center gap-1",children:e.jsxs(ie,{children:[e.jsx(le,{asChild:!0,children:e.jsx(l,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-gray-50",children:e.jsx(ne,{className:"h-4 w-4 text-gray-600"})})}),e.jsxs(ce,{align:"end",style:{direction:"rtl"},children:[e.jsxs(D,{onClick:()=>P(s),style:{textAlign:"right",justifyContent:"flex-end"},className:"hover:bg-gray-50",children:[e.jsx(de,{className:"h-4 w-4 mr-2 text-gray-600"}),"ویرایش"]}),e.jsxs(D,{onClick:()=>F(s.id),style:{textAlign:"right",justifyContent:"flex-end"},className:"hover:bg-gray-50",children:[e.jsx("span",{className:"h-4 w-4 mr-2 text-gray-600",children:s.isActive?"○":"●"}),s.isActive?"غیرفعال کردن":"فعال کردن"]}),e.jsxs(D,{onClick:()=>L(s),className:"text-red-600 hover:text-red-700 hover:bg-red-50",style:{textAlign:"right",justifyContent:"flex-end"},children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),"حذف"]})]})]})})})]},s.id))})]})})})]}),f.length===0&&a.length>0&&e.jsx(n,{className:"border-2 border-dashed border-gray-200 bg-gray-50",children:e.jsxs(d,{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(I,{className:"w-8 h-8 text-gray-600"})}),e.jsx("h3",{className:"text-lg mb-2 text-gray-900",children:"نتیجه‌ای یافت نشد"}),e.jsxs("p",{className:"text-gray-600 mb-4 leading-relaxed",children:["هیچ نوع آسانسوری با معیارهای جستجوی شما پیدا نشد.",e.jsx("br",{}),"لطفاً کلمات کلیدی یا فیلترهای مختلفی امتحان کنید."]}),e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx(l,{variant:"outline",onClick:()=>{C(""),E("all")},className:"border-gray-300 text-gray-700 hover:bg-gray-100",children:"پاک کردن فیلترها"}),e.jsxs(l,{onClick:()=>{g(),m(null),c(!0)},className:"bg-gray-900 hover:bg-gray-800 text-white",children:[e.jsx(T,{className:"w-4 h-4 ml-1"}),"ایجاد نوع جدید"]})]})]})}),a.length===0&&e.jsx(n,{className:"border-2 border-dashed border-gray-200 bg-gray-50",children:e.jsxs(d,{className:"p-12 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(A,{className:"w-10 h-10 text-gray-600"})}),e.jsx("h3",{className:"text-xl mb-3 text-gray-900",children:"شروع به تعریف انواع آسانسور کنید"}),e.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed max-w-md mx-auto",children:"هنوز هیچ نوع آسانسوری تعریف نشده است. برای شروع، اولین نوع آسانسور خود را ایجاد کنید تا بتوانید دسته‌بندی قطعات را مدیریت کنید."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(l,{onClick:()=>{g(),m(null),c(!0)},className:"bg-gray-900 hover:bg-gray-800 text-white px-6 py-3",size:"lg",children:[e.jsx(T,{className:"w-5 h-5 ml-2"}),"ایجاد اولین نوع آسانسور"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"نکته: شما می‌توانید انواع مختلف آسانسور مانند هیدرولیک و کششی را تعریف کنید"})]})]})})]})}export{Ee as default};
