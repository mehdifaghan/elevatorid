import{r as a,u as j,a as y,j as e,C as p,b as N,c as w,d as v,e as C,P as k,L,I as S,f as z,g as s,h as I,B as r,t as l}from"./index-tH8kGzNV.js";function D(){const[t,i]=a.useState(""),[P,g]=a.useState(""),[c,u]=a.useState(!1),[n,m]=a.useState(!1),{login:h}=j(),o=y(),f=async d=>{if(d.preventDefault(),!t){l.error("شماره موبایل را وارد کنید");return}if(!c){l.error("کپچا را تکمیل کنید");return}if(!/^09\d{9}$/.test(t)){l.error("شماره موبایل معتبر نیست");return}m(!0);try{const x=`captcha_${Date.now()}`;await h(t,x),o("/otp-verify",{state:{mobile:t}})}catch{}finally{m(!1)}},b=d=>{i(d),u(!0)};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 px-4",children:e.jsxs(p,{className:"w-full max-w-md",children:[e.jsxs(N,{className:"text-center",children:[e.jsx(w,{className:"text-2xl",children:"ورود به سامانه"}),e.jsx(v,{children:"سامانه ردیابی قطعات و شناسنامه آسانسور"})]}),e.jsxs(C,{children:[e.jsxs("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[e.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"🎯 حساب‌های نمونه:"}),e.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"مدیر:"})," ",e.jsx("span",{className:"font-mono",dir:"ltr",children:"09121111111"})]}),e.jsxs("div",{children:[e.jsx("strong",{children:"کاربر:"})," ",e.jsx("span",{className:"font-mono",dir:"ltr",children:"09122222222"})]}),e.jsx("div",{className:"text-xs mt-2 text-blue-600 dark:text-blue-400",children:"کد تایید: هر عددی قابل قبول است (1234)"})]})]}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(k,{className:"w-4 h-4 text-blue-600"}),e.jsx(L,{htmlFor:"mobile",className:"text-center",children:"شماره موبایل"})]}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"شماره موبایل خود را در کادرهای زیر وارد کنید"}),e.jsx("div",{className:"flex justify-center",dir:"ltr",children:e.jsx(S,{value:t,onChange:i,maxLength:11,disabled:n,children:e.jsxs(z,{className:"gap-0.5 sm:gap-1",children:[e.jsx(s,{index:0,className:"w-6 h-9 sm:w-7 sm:h-10 text-sm sm:text-base font-bold border border-gray-300 rounded-md focus:border-blue-500 focus:ring-1 focus:ring-blue-100 bg-gray-50 focus:bg-white transition-all duration-200"}),e.jsx(s,{index:1,className:"w-6 h-9 sm:w-7 sm:h-10 text-sm sm:text-base font-bold border border-gray-300 rounded-md focus:border-blue-500 focus:ring-1 focus:ring-blue-100 bg-gray-50 focus:bg-white transition-all duration-200"}),e.jsx(s,{index:2,className:"w-6 h-9 sm:w-7 sm:h-10 text-sm sm:text-base font-bold border border-gray-300 rounded-md focus:border-blue-500 focus:ring-1 focus:ring-blue-100 bg-gray-50 focus:bg-white transition-all duration-200"}),e.jsx(s,{index:3,className:"w-6 h-9 sm:w-7 sm:h-10 text-sm sm:text-base font-bold border border-gray-300 rounded-md focus:border-blue-500 focus:ring-1 focus:ring-blue-100 bg-gray-50 focus:bg-white transition-all duration-200"}),e.jsx(s,{index:4,className:"w-6 h-9 sm:w-7 sm:h-10 text-sm sm:text-base font-bold border border-gray-300 rounded-md focus:border-blue-500 focus:ring-1 focus:ring-blue-100 bg-gray-50 focus:bg-white transition-all duration-200"}),e.jsx(s,{index:5,className:"w-6 h-9 sm:w-7 sm:h-10 text-sm sm:text-base font-bold border border-gray-300 rounded-md focus:border-blue-500 focus:ring-1 focus:ring-blue-100 bg-gray-50 focus:bg-white transition-all duration-200"}),e.jsx(s,{index:6,className:"w-6 h-9 sm:w-7 sm:h-10 text-sm sm:text-base font-bold border border-gray-300 rounded-md focus:border-blue-500 focus:ring-1 focus:ring-blue-100 bg-gray-50 focus:bg-white transition-all duration-200"}),e.jsx(s,{index:7,className:"w-6 h-9 sm:w-7 sm:h-10 text-sm sm:text-base font-bold border border-gray-300 rounded-md focus:border-blue-500 focus:ring-1 focus:ring-blue-100 bg-gray-50 focus:bg-white transition-all duration-200"}),e.jsx(s,{index:8,className:"w-6 h-9 sm:w-7 sm:h-10 text-sm sm:text-base font-bold border border-gray-300 rounded-md focus:border-blue-500 focus:ring-1 focus:ring-blue-100 bg-gray-50 focus:bg-white transition-all duration-200"}),e.jsx(s,{index:9,className:"w-6 h-9 sm:w-7 sm:h-10 text-sm sm:text-base font-bold border border-gray-300 rounded-md focus:border-blue-500 focus:ring-1 focus:ring-blue-100 bg-gray-50 focus:bg-white transition-all duration-200"}),e.jsx(s,{index:10,className:"w-6 h-9 sm:w-7 sm:h-10 text-sm sm:text-base font-bold border border-gray-300 rounded-md focus:border-blue-500 focus:ring-1 focus:ring-blue-100 bg-gray-50 focus:bg-white transition-all duration-200"})]})})}),t.length>0&&t.length<11&&e.jsxs("p",{className:"text-xs text-orange-600 text-center",children:[11-t.length," رقم باقی‌مانده"]}),t.length===11&&e.jsxs("div",{className:"flex items-center justify-center gap-1.5 text-green-600 text-xs",children:[e.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{children:"شماره کامل شد"})]})]}),e.jsx(I,{onValidate:u,onValueChange:g}),e.jsx(r,{type:"submit",className:"w-full",disabled:n||!c||t.length!==11,children:n?"در حال ارسال...":"ارسال کد تایید"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2",children:[e.jsx(r,{type:"button",variant:"outline",size:"sm",onClick:()=>b("09121111111"),className:"text-xs",children:"مدیر نمونه"}),e.jsx(r,{type:"button",variant:"outline",size:"sm",onClick:()=>b("09122222222"),className:"text-xs",children:"کاربر نمونه"})]}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg border",children:[e.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-3 text-center",children:"🔍 مشاهده بدون ورود (دمو)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(r,{type:"button",variant:"secondary",size:"sm",onClick:()=>o("/demo/admin"),className:"text-xs",children:"پنل مدیریت"}),e.jsx(r,{type:"button",variant:"secondary",size:"sm",onClick:()=>o("/demo/user"),className:"text-xs",children:"پنل کاربری"})]}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 text-center mt-2",children:"مشاهده تمام قابلیت‌های سیستم بدون نیاز به ثبت‌نام"})]})]})]})]})})}export{D as default};
