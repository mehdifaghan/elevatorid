import{r as m,t as n,j as e,B as p,q as de,V as oe,C as g,e as j,T as Pe,p as y,b as G,c as z,v as B,d as _e,L as o,o as se,U as Fe,Q as Me,R as Oe,w as fe,z as Le,D as Re,E as Y,F as Z}from"./index-tH8kGzNV.js";import{D as me,a as qe,b as xe,c as he,d as ue,e as ge}from"./dialog-DAjwwShP.js";import{S as je}from"./scroll-area-VRfuIe_R.js";import{D as $e,a as Qe,b as Ue,c as E,d as ee}from"./dropdown-menu-BKfQT_JD.js";import{S as P,a as _,b as F,c as M,d as u}from"./select-B8NiX_r6.js";import{S as Ge}from"./switch-DOMxWR7b.js";import{S as U}from"./skeleton-vzO12S3j.js";import{A as ze,a as Ve,b as Be,c as He,d as Je,e as Ke,f as We,g as Xe}from"./alert-dialog-DO3MSb5m.js";import{Q as Ye}from"./QRCodeGenerator-DzqPO6-F.js";import{A as Ze}from"./AdvancedTable-BFnDxHqp.js";import{PersianDatePicker as es}from"./PersianDatePicker-1MwY2jFT.js";import{r as C}from"./real-api-client-o-2gE2Hp.js";import{S as ss,a as Ne}from"./SellModal-B1TPinsx.js";import{P as ts}from"./plus-A2-5MgKF.js";import{T as rs}from"./trending-down-HaRH2stY.js";import{S as as}from"./search-8LTSveb2.js";import{E as ls}from"./ellipsis-J_HkHiqq.js";import{F as ye}from"./file-text-DbNNqFYp.js";import{S as is}from"./square-pen-BV4EFpYT.js";import{T as ns}from"./trash-2-BwVZTJjK.js";import{C as cs}from"./clock-BiwlPOks.js";import{D as ds}from"./download-BGqk_jGh.js";import{E as os}from"./external-link-CZQZ0Gf9.js";import"./index-DGGMjIYi.js";import"./Combination-Dzecd94B.js";import"./x-B6dSK8zO.js";import"./index-BdQq_4o_.js";import"./chevron-right-B97jr1RJ.js";import"./check-DV_4N94Y.js";import"./index-BuiImgyP.js";import"./copy-CIVXPvX_.js";import"./table-DC3MYrD8.js";import"./popover-B3pW-y7H.js";import"./utils-BvTIn9cQ.js";const be={available:"bg-green-100 text-green-800",sold:"bg-blue-100 text-blue-800",installed:"bg-purple-100 text-purple-800",maintenance:"bg-yellow-100 text-yellow-800"},ve={available:"Ù…ÙˆØ¬ÙˆØ¯",sold:"ÙØ±ÙˆØ®ØªÙ‡ Ø´Ø¯Ù‡",installed:"Ù†ØµØ¨ Ø´Ø¯Ù‡",maintenance:"Ø¯Ø± ØªØ¹Ù…ÛŒØ±"};function Js(){const[c,f]=m.useState([]),[i,h]=m.useState([]),[N,H]=m.useState({total:0,available:0,installed:0,maintenance:0,sold:0,thisMonth:0,lastMonth:0,monthlyGrowth:0}),[S,O]=m.useState(null),[w,A]=m.useState(!1),[L,R]=m.useState(!1),[D,K]=m.useState(!1),[b,T]=m.useState(null),[te,W]=m.useState(null),[q,$]=m.useState(null),[k,s]=m.useState(!1),[r,d]=m.useState(!0),[v,Q]=m.useState(!0),[re,ae]=m.useState(!1),[I,le]=m.useState(""),[V,ie]=m.useState("all");m.useEffect(()=>{ne(),ce(),J()},[]);const J=async()=>{try{Q(!0);const t=await C.get("/admin/parts/stats"),a=t.stats||t,x={total:a.total||0,available:a.available||0,installed:a.installed||0,maintenance:a.maintenance||0,sold:a.sold||0,thisMonth:a.this_month||a.thisMonth||0,lastMonth:a.last_month||a.lastMonth||0,monthlyGrowth:a.monthly_growth||a.monthlyGrowth||0};H(x)}catch(t){if(console.error("Error fetching part stats:",t),t&&typeof t=="object"&&"isNetworkError"in t){const a=t;a.isNetworkError?n.error("Ø¹Ø¯Ù… Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø³Ø±ÙˆØ± Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ø¢Ù…Ø§Ø± Ù‚Ø·Ø¹Ø§Øª"):a.isAuthError?n.error("Ø®Ø·Ø§ÛŒ Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ø¢Ù…Ø§Ø±"):n.error("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¢Ù…Ø§Ø± Ù‚Ø·Ø¹Ø§Øª")}else n.error("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¢Ù…Ø§Ø± Ù‚Ø·Ø¹Ø§Øª");H({total:0,available:0,installed:0,maintenance:0,sold:0,thisMonth:0,lastMonth:0,monthlyGrowth:0})}finally{Q(!1)}},ne=async()=>{try{d(!0);const t=await C.get("/admin/parts"),a=t.parts||t.data||t||[],x=Array.isArray(a)?a.map(l=>({id:l.id?.toString()||l._id?.toString(),partUid:l.part_uid||l.partUid||l.uid||"Ù†Ø§Ù…Ø´Ø®Øµ",title:l.title||l.name||"Ù†Ø§Ù…Ø´Ø®Øµ",barcode:l.barcode||"",categoryId:l.category_id?.toString()||l.categoryId?.toString()||"",categoryName:l.category_name||l.categoryName||l.category?.title||"Ù†Ø§Ù…Ø´Ø®Øµ",manufacturerCountry:l.manufacturer_country||l.manufacturerCountry||"Ù†Ø§Ù…Ø´Ø®Øµ",originCountry:l.origin_country||l.originCountry||"Ù†Ø§Ù…Ø´Ø®Øµ",registrantCompanyId:l.registrant_company_id?.toString()||l.registrantCompanyId?.toString()||"",registrantCompanyName:l.registrant_company_name||l.registrantCompanyName||"Ù†Ø§Ù…Ø´Ø®Øµ",currentOwner:{type:l.current_owner?.type||l.currentOwner?.type||"company",companyId:l.current_owner?.company_id?.toString()||l.currentOwner?.companyId?.toString(),elevatorId:l.current_owner?.elevator_id?.toString()||l.currentOwner?.elevatorId?.toString(),companyName:l.current_owner?.company_name||l.currentOwner?.companyName||"Ù†Ø§Ù…Ø´Ø®Øµ",elevatorName:l.current_owner?.elevator_name||l.currentOwner?.elevatorName},status:l.status||"available",createdAt:l.created_at||l.createdAt||new Date().toLocaleDateString("fa-IR"),updatedAt:l.updated_at||l.updatedAt,features:l.features||[],qrCode:l.qr_code||l.qrCode})):[];f(x)}catch(t){if(console.error("Error fetching parts:",t),f([]),t&&typeof t=="object"&&"isNetworkError"in t){const a=t;a.isNetworkError?n.error("Ø¹Ø¯Ù… Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø³Ø±ÙˆØ± Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ù‚Ø·Ø¹Ø§Øª"):a.isAuthError?n.error("Ø®Ø·Ø§ÛŒ Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ù‚Ø·Ø¹Ø§Øª"):n.error("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù‚Ø·Ø¹Ø§Øª")}else n.error("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù‚Ø·Ø¹Ø§Øª")}finally{d(!1)}},ce=async()=>{try{const t=await C.get("/admin/categories/parts"),a=t.categories||t.data||t||[],x=Array.isArray(a)?a.map(l=>({id:l.id?.toString()||l._id?.toString(),name:l.title||l.name,parentId:l.parent_id?.toString()||l.parentId?.toString(),children:l.children||[],technicalSpecs:l.technical_specs||l.technicalSpecs||[]})):[];h(x)}catch(t){console.error("Error fetching categories:",t),h([]),t&&typeof t=="object"&&"isNetworkError"in t&&(t.isNetworkError||n.error("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§"))}},we=async t=>{try{await C.delete(`/admin/parts/${t.id}`),f(a=>a.filter(x=>x.id!==t.id)),$(null),n.success(`${t.title} Ø­Ø°Ù Ø´Ø¯`),J()}catch(a){if(console.error("Error deleting part:",a),a&&typeof a=="object"&&"isNetworkError"in a){const x=a;x.isNetworkError?n.error("Ø¹Ø¯Ù… Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø³Ø±ÙˆØ± Ø¨Ø±Ø§ÛŒ Ø­Ø°Ù Ù‚Ø·Ø¹Ù‡"):x.isAuthError?n.error("Ø®Ø·Ø§ÛŒ Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª"):n.error("Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù Ù‚Ø·Ø¹Ù‡")}else n.error("Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù Ù‚Ø·Ø¹Ù‡")}},Ce=async t=>{try{if(!b)return;await C.post(`/admin/parts/${b.id}/sell`,t),f(a=>a.map(x=>x.id===b.id?{...x,status:"sold",currentOwner:{type:"company",companyId:t.buyerCompanyId}}:x)),R(!1),T(null),n.success(`${b.title} Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª ÙØ±ÙˆØ®ØªÙ‡ Ø´Ø¯`),J()}catch(a){console.error("Error selling part:",a),n.error("Ø®Ø·Ø§ Ø¯Ø± ÙØ±ÙˆØ´ Ù‚Ø·Ø¹Ù‡")}},Se=async t=>{try{const a=await C.post(`/admin/parts/${t.id}/qr`);a.qrCode&&(f(x=>x.map(l=>l.id===t.id?{...l,qrCode:a.qrCode}:l)),n.success("Ú©Ø¯ QR Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª ØªÙˆÙ„ÛŒØ¯ Ø´Ø¯"))}catch(a){console.error("Error generating QR code:",a),n.error("Ø®Ø·Ø§ Ø¯Ø± ØªÙˆÙ„ÛŒØ¯ Ú©Ø¯ QR")}},De=async t=>{try{const a=await C.post(`/admin/parts/${t.id}/pdf`);a.downloadUrl&&(window.open(a.downloadUrl,"_blank"),n.success("Ø´Ù†Ø§Ø³Ù†Ø§Ù…Ù‡ PDF Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª ØªÙˆÙ„ÛŒØ¯ Ø´Ø¯"))}catch(a){console.error("Error generating PDF:",a),n.error("Ø®Ø·Ø§ Ø¯Ø± ØªÙˆÙ„ÛŒØ¯ Ø´Ù†Ø§Ø³Ù†Ø§Ù…Ù‡ PDF")}},X=async()=>{s(!0);try{await Promise.all([ne(),ce(),J()]),n.success("Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯")}catch{n.error("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§")}finally{s(!1)}},Ae=c.filter(t=>{const a=t.title.toLowerCase().includes(I.toLowerCase())||t.partUid.toLowerCase().includes(I.toLowerCase())||t.barcode.toLowerCase().includes(I.toLowerCase())||t.categoryName&&t.categoryName.toLowerCase().includes(I.toLowerCase()),x=V==="all"||t.status===V;return a&&x}),Te=(t,a)=>{let x=null;for(const l of i)if(l.children&&l.children.find(Ee=>Ee.id===t)){x=l;break}return x?`${x.name} / ${a}`:a||"Ù†Ø§Ù…Ø´Ø®Øµ"},ke=()=>e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[...Array(5)].map((t,a)=>e.jsx(g,{className:"border-l-4 border-l-gray-300",children:e.jsx(j,{className:"p-3",children:e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx(U,{className:"h-6 w-12 mx-auto"}),e.jsx(U,{className:"h-3 w-16 mx-auto"})]})})},a))}),Ie=[{key:"title",label:"Ù†Ø§Ù… Ù‚Ø·Ø¹Ù‡",sortable:!0,render:(t,a)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{className:"w-4 h-4 text-blue-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["UID: ",a.partUid]})]})]})},{key:"barcode",label:"Ø¨Ø§Ø±Ú©Ø¯",sortable:!0,render:(t,a)=>e.jsx("div",{className:"font-mono text-sm",children:t||"Ø¨Ø¯ÙˆÙ† Ø¨Ø§Ø±Ú©Ø¯"})},{key:"categoryName",label:"Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ",filterable:!0,render:(t,a)=>e.jsx(se,{variant:"outline",className:"text-xs",children:Te(a.categoryId,t)})},{key:"manufacturerCountry",label:"Ú©Ø´ÙˆØ± Ø³Ø§Ø²Ù†Ø¯Ù‡",sortable:!0,render:t=>e.jsx("div",{className:"text-sm",children:t})},{key:"currentOwner",label:"Ù…Ø§Ù„Ú© ÙØ¹Ù„ÛŒ",sortable:!0,render:(t,a)=>e.jsx("div",{className:"text-sm",children:t.type==="company"?e.jsx("div",{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Fe,{className:"w-3 h-3"}),t.companyName||a.registrantCompanyName||"Ù†Ø§Ù…Ø´Ø®Øµ"]})}):e.jsx("div",{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(B,{className:"w-3 h-3"}),t.elevatorName||"Ø¢Ø³Ø§Ù†Ø³ÙˆØ± Ù†Ø§Ù…Ø´Ø®Øµ"]})})})},{key:"status",label:"ÙˆØ¶Ø¹ÛŒØª",filterable:!0,sortable:!0,render:t=>e.jsx(se,{variant:"secondary",className:be[t],children:ve[t]})},{key:"createdAt",label:"ØªØ§Ø±ÛŒØ® Ø«Ø¨Øª",sortable:!0,render:t=>e.jsx("div",{className:"text-sm",children:t})},{key:"actions",label:"Ø¹Ù…Ù„ÛŒØ§Øª",render:(t,a)=>e.jsxs($e,{children:[e.jsx(Qe,{asChild:!0,children:e.jsx(p,{variant:"ghost",size:"sm",children:e.jsx(ls,{className:"w-4 h-4"})})}),e.jsxs(Ue,{align:"end",style:{direction:"rtl"},children:[e.jsxs(E,{onClick:()=>O(a),style:{textAlign:"right",justifyContent:"flex-end"},children:[e.jsx(Me,{className:"w-4 h-4 mr-2"}),"Ø´Ù†Ø§Ø³Ù†Ø§Ù…Ù‡ Ù‚Ø·Ø¹Ù‡"]}),e.jsxs(E,{onClick:()=>De(a),style:{textAlign:"right",justifyContent:"flex-end"},children:[e.jsx(ye,{className:"w-4 h-4 mr-2"}),"Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø´Ù†Ø§Ø³Ù†Ø§Ù…Ù‡ PDF"]}),e.jsx(ee,{}),e.jsxs(E,{onClick:()=>Se(a),style:{textAlign:"right",justifyContent:"flex-end"},children:[e.jsx(Oe,{className:"w-4 h-4 mr-2"}),"ØªÙˆÙ„ÛŒØ¯ QR Code"]}),e.jsx(ee,{}),a.status==="available"&&e.jsxs(e.Fragment,{children:[e.jsxs(E,{onClick:()=>{T(a),R(!0)},style:{textAlign:"right",justifyContent:"flex-end"},children:[e.jsx(Ne,{className:"w-4 h-4 mr-2"}),"ÙØ±ÙˆØ´ Ù‚Ø·Ø¹Ù‡"]}),e.jsxs(E,{onClick:()=>{W(a),K(!0)},style:{textAlign:"right",justifyContent:"flex-end"},children:[e.jsx(fe,{className:"w-4 h-4 mr-2"}),"Ø§Ù†ØªÙ‚Ø§Ù„ Ù‚Ø·Ø¹Ù‡"]}),e.jsx(ee,{})]}),e.jsxs(E,{style:{textAlign:"right",justifyContent:"flex-end"},children:[e.jsx(is,{className:"w-4 h-4 mr-2"}),"ÙˆÛŒØ±Ø§ÛŒØ´"]}),e.jsxs(E,{onClick:()=>$(a),className:"text-destructive focus:text-destructive",style:{textAlign:"right",justifyContent:"flex-end"},children:[e.jsx(ns,{className:"w-4 h-4 mr-2"}),"Ø­Ø°Ù"]})]})]})}];return e.jsxs("div",{className:"space-y-6",dir:"rtl",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Ù…Ø¯ÛŒØ±ÛŒØª Ù‚Ø·Ø¹Ø§Øª"}),e.jsx("p",{className:"text-muted-foreground",children:"Ù„ÛŒØ³Øª Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª ØªÙ…Ø§Ù…ÛŒ Ù‚Ø·Ø¹Ø§Øª Ø³ÛŒØ³ØªÙ…"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(p,{variant:"outline",onClick:X,disabled:k,children:[k?e.jsx(de,{className:"w-4 h-4 ml-2 animate-spin"}):e.jsx(oe,{className:"w-4 h-4 ml-2"}),"Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ"]}),e.jsxs(me,{open:w,onOpenChange:A,children:[e.jsx(qe,{asChild:!0,children:e.jsxs(p,{children:[e.jsx(ts,{className:"w-4 h-4 ml-2"}),"Ø«Ø¨Øª Ù‚Ø·Ø¹Ù‡ Ø¬Ø¯ÛŒØ¯"]})}),e.jsxs(xe,{className:"max-w-4xl max-h-[90vh]",style:{direction:"rtl",textAlign:"right"},children:[e.jsxs(he,{style:{textAlign:"right"},children:[e.jsx(ue,{style:{textAlign:"right"},children:"Ø«Ø¨Øª Ù‚Ø·Ø¹Ù‡ Ø¬Ø¯ÛŒØ¯"}),e.jsx(ge,{style:{textAlign:"right"},children:"Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù‚Ø·Ø¹Ù‡ Ø¬Ø¯ÛŒØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯"})]}),e.jsx(je,{className:"max-h-[calc(90vh-8rem)] overflow-auto",style:{direction:"rtl"},children:e.jsx(ms,{categories:i,onClose:()=>A(!1)})})]})]})]})]}),v?e.jsx(ke,{}):e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[e.jsx(g,{className:"border-l-4 border-l-blue-500",children:e.jsx(j,{className:"p-3",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl font-bold text-blue-600",children:N.total}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Ú©Ù„ Ù‚Ø·Ø¹Ø§Øª"})]})})}),e.jsx(g,{className:"border-l-4 border-l-green-500",children:e.jsx(j,{className:"p-3",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl font-bold text-green-600",children:N.available}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Ø¯Ø± Ø§Ù†Ø¨Ø§Ø±"})]})})}),e.jsx(g,{className:"border-l-4 border-l-purple-500",children:e.jsx(j,{className:"p-3",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl font-bold text-purple-600",children:N.installed}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Ù†ØµØ¨ Ø´Ø¯Ù‡"})]})})}),e.jsx(g,{className:"border-l-4 border-l-orange-500",children:e.jsx(j,{className:"p-3",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl font-bold text-orange-600",children:N.maintenance}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Ø¯Ø± ØªØ¹Ù…ÛŒØ±"})]})})}),e.jsx(g,{className:"border-l-4 border-l-indigo-500",children:e.jsx(j,{className:"p-3",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx("p",{className:"text-lg font-bold text-indigo-600",children:N.thisMonth}),N.monthlyGrowth>0?e.jsx(Pe,{className:"w-3 h-3 text-green-500"}):N.monthlyGrowth<0?e.jsx(rs,{className:"w-3 h-3 text-red-500"}):null]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Ø§ÛŒÙ† Ù…Ø§Ù‡"})]})})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(as,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(y,{placeholder:"Ø¬Ø³ØªØ¬Ùˆ Ø¯Ø± Ù‚Ø·Ø¹Ø§Øª (Ù†Ø§Ù…ØŒ UIDØŒ Ø¨Ø§Ø±Ú©Ø¯)...",value:I,onChange:t=>le(t.target.value),className:"pr-10"})]})}),e.jsxs(P,{value:V,onValueChange:ie,children:[e.jsx(_,{className:"w-full sm:w-48",children:e.jsx(F,{placeholder:"ÙÛŒÙ„ØªØ± ÙˆØ¶Ø¹ÛŒØª"})}),e.jsxs(M,{children:[e.jsx(u,{value:"all",children:"Ù‡Ù…Ù‡ ÙˆØ¶Ø¹ÛŒØªâ€ŒÙ‡Ø§"}),e.jsx(u,{value:"available",children:"Ù…ÙˆØ¬ÙˆØ¯"}),e.jsx(u,{value:"installed",children:"Ù†ØµØ¨ Ø´Ø¯Ù‡"}),e.jsx(u,{value:"maintenance",children:"Ø¯Ø± ØªØ¹Ù…ÛŒØ±"}),e.jsx(u,{value:"sold",children:"ÙØ±ÙˆØ®ØªÙ‡ Ø´Ø¯Ù‡"})]})]})]}),e.jsxs(g,{children:[e.jsxs(G,{children:[e.jsxs(z,{className:"flex items-center gap-2",children:[e.jsx(B,{className:"w-5 h-5"}),"Ù„ÛŒØ³Øª Ù‚Ø·Ø¹Ø§Øª"]}),e.jsx(_e,{children:r?e.jsx("span",{children:"Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ..."}):c.length>0?e.jsxs(e.Fragment,{children:["Ù…Ø¬Ù…ÙˆØ¹Ø§Ù‹ ",c.length," Ù‚Ø·Ø¹Ù‡ ÛŒØ§ÙØª Ø´Ø¯"]}):e.jsx(e.Fragment,{children:"Ù‡ÛŒÚ† Ù‚Ø·Ø¹Ù‡â€ŒØ§ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯"})})]}),e.jsx(j,{children:r?e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"rounded-md border",children:e.jsx("div",{className:"overflow-hidden",children:[...Array(5)].map((t,a)=>e.jsxs("div",{className:"flex items-center space-x-4 space-x-reverse p-4 border-b last:border-b-0",children:[e.jsx(U,{className:"h-12 w-12 rounded-lg"}),e.jsxs("div",{className:"space-y-2 flex-1",children:[e.jsx(U,{className:"h-4 w-[250px]"}),e.jsx(U,{className:"h-4 w-[200px]"})]}),e.jsx(U,{className:"h-8 w-20"})]},a))})})}):c.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center",children:e.jsx(B,{className:"w-8 h-8 text-gray-400"})}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h3",{className:"text-lg font-medium text-muted-foreground",children:"Ù‚Ø·Ø¹Ù‡â€ŒØ§ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯"}),e.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:I||V!=="all"?"Ù‡ÛŒÚ† Ù‚Ø·Ø¹Ù‡â€ŒØ§ÛŒ Ø¨Ø§ Ø§ÛŒÙ† ÙÛŒÙ„ØªØ±Ù‡Ø§ Ù…ÙˆØ¬ÙˆØ¯ Ù†ÛŒØ³Øª. Ù„Ø·ÙØ§Ù‹ Ø¬Ø³ØªØ¬ÙˆÛŒ Ø®ÙˆØ¯ Ø±Ø§ ØªØºÛŒÛŒØ± Ø¯Ù‡ÛŒØ¯.":"Ù‡Ù†ÙˆØ² Ù‚Ø·Ø¹Ù‡â€ŒØ§ÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª. Ù¾Ø³ Ø§Ø² Ø«Ø¨Øª Ù‚Ø·Ø¹Ø§Øª Ø¬Ø¯ÛŒØ¯ØŒ Ø¢Ù†Ù‡Ø§ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ø®ÙˆØ§Ù‡Ù†Ø¯ Ø´Ø¯."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(p,{onClick:X,variant:"outline",disabled:k,children:[k?e.jsx(de,{className:"w-4 h-4 ml-2 animate-spin"}):e.jsx(oe,{className:"w-4 h-4 ml-2"}),"ØªÙ„Ø§Ø´ Ù…Ø¬Ø¯Ø¯"]}),(I||V!=="all")&&e.jsx(p,{onClick:()=>{le(""),ie("all")},variant:"ghost",children:"Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† ÙÛŒÙ„ØªØ±Ù‡Ø§"})]})]}):e.jsx(Ze,{data:Ae,columns:Ie,searchable:!1,filterable:!1,exportable:!0,pagination:!0,pageSize:15,emptyMessage:"Ù‚Ø·Ø¹Ù‡â€ŒØ§ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯",onRowClick:t=>O(t),onRefresh:X,refreshing:k})})]}),S&&e.jsx(me,{open:!!S,onOpenChange:()=>O(null),children:e.jsxs(xe,{className:"max-w-5xl max-h-[90vh]",style:{direction:"rtl",textAlign:"right"},children:[e.jsxs(he,{style:{textAlign:"right"},children:[e.jsxs(ue,{style:{textAlign:"right"},children:["Ø´Ù†Ø§Ø³Ù†Ø§Ù…Ù‡ Ù‚Ø·Ø¹Ù‡: ",S.title]}),e.jsx(ge,{style:{textAlign:"right"},children:"Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ù…Ù„ Ùˆ Ù…Ø´Ø®ØµØ§Øª ÙÙ†ÛŒ Ù‚Ø·Ø¹Ù‡"})]}),e.jsx(je,{className:"max-h-[calc(90vh-8rem)] overflow-auto",style:{direction:"rtl"},children:e.jsx(xs,{part:S})})]})}),b&&e.jsx(ss,{isOpen:L,onClose:()=>{R(!1),T(null)},onSell:Ce,part:{id:b.id,name:b.title,model:"",serialNumber:b.partUid,price:0}}),q&&e.jsx(ze,{open:!!q,onOpenChange:()=>$(null),children:e.jsxs(Ve,{style:{direction:"rtl",textAlign:"right"},children:[e.jsxs(Be,{style:{textAlign:"right"},children:[e.jsx(He,{style:{textAlign:"right"},children:"ØªØ£ÛŒÛŒØ¯ Ø­Ø°Ù Ù‚Ø·Ø¹Ù‡"}),e.jsxs(Je,{style:{textAlign:"right"},children:['Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ù‚Ø·Ø¹Ù‡ "',q.title,'" Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ Ø§ÛŒÙ† Ø¹Ù…Ù„ Ù‚Ø§Ø¨Ù„ Ø¨Ø§Ø²Ú¯Ø´Øª Ù†ÛŒØ³Øª.']})]}),e.jsxs(Ke,{className:"flex-row-reverse",children:[e.jsx(We,{onClick:()=>$(null),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsx(Xe,{onClick:()=>we(q),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Ø­Ø°Ù"})]})]})})]})}const pe=["Ø§ÛŒØ±Ø§Ù†","Ø¢Ù„Ù…Ø§Ù†","Ø§ÛŒØªØ§Ù„ÛŒØ§","ØªØ±Ú©ÛŒÙ‡","Ú†ÛŒÙ†","Ú©Ø±Ù‡ Ø¬Ù†ÙˆØ¨ÛŒ","Ú˜Ø§Ù¾Ù†","ÙÙ†Ù„Ø§Ù†Ø¯","Ø³ÙˆØ¦Ø¯","Ø³ÙˆØ¦ÛŒØ³"];function ms({categories:c,onClose:f}){const[i,h]=m.useState({name:"",model:"",serialNumber:"",categoryId:"",manufacturer:"",brand:"",price:"",productType:"manufactured",manufacturerCountry:"Ø§ÛŒØ±Ø§Ù†",originCountry:"",productionDate:"",specifications:{}}),[N,H]=m.useState(!1),[S,O]=m.useState(1),[w,A]=m.useState([""]),[L,R]=m.useState(null),D=m.useMemo(()=>{if(!i.categoryId)return null;const s=c.find(r=>r.id===i.categoryId);if(s)return s;for(const r of c)if(r.children){const d=r.children.find(v=>v.id===i.categoryId);if(d)return d}return null},[i.categoryId,c]),K=async s=>{if(s.preventDefault(),i.productType==="imported"&&!L){n.error("Ø¨Ø±Ø§ÛŒ Ù‚Ø·Ø¹Ø§Øª ÙˆØ§Ø±Ø¯Ø§ØªÛŒØŒ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¨Ø±Ú¯Ù‡ Ø³Ø¨Ø² ØªØ±Ø®ÛŒØµ Ú©Ø§Ù„Ø§ Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª");return}try{if(N){if(w.filter(Q=>!Q.trim()).length>0){n.error("Ù„Ø·ÙØ§Ù‹ ØªÙ…Ø§Ù… Ø´Ù…Ø§Ø±Ù‡â€ŒÙ‡Ø§ÛŒ Ø³Ø±ÛŒØ§Ù„ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯");return}if(new Set(w).size!==w.length){n.error("Ø´Ù…Ø§Ø±Ù‡â€ŒÙ‡Ø§ÛŒ Ø³Ø±ÛŒØ§Ù„ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù†Ø¯ ØªÚ©Ø±Ø§Ø±ÛŒ Ø¨Ø§Ø´Ù†Ø¯");return}const v={parts:w.map(Q=>({title:i.name,categoryId:parseInt(i.categoryId),barcode:Q,manufacturerCountry:i.manufacturerCountry,originCountry:i.productType==="imported"?i.originCountry:i.manufacturerCountry,features:Object.entries(i.specifications).map(([re,ae])=>({featureKey:re,value:ae}))}))};await C.post("/admin/parts/batch",v),n.success(`${S} Ù‚Ø·Ø¹Ù‡ ${i.productType==="imported"?"ÙˆØ§Ø±Ø¯Ø§ØªÛŒ":"ØªÙˆÙ„ÛŒØ¯ÛŒ"} Ø¯Ø³ØªÙ‡â€ŒØ§ÛŒ Ø«Ø¨Øª Ø´Ø¯`)}else{const r={title:i.name,categoryId:parseInt(i.categoryId),barcode:i.serialNumber,manufacturerCountry:i.manufacturerCountry,originCountry:i.productType==="imported"?i.originCountry:i.manufacturerCountry,features:Object.entries(i.specifications).map(([d,v])=>({featureKey:d,value:v}))};await C.post("/admin/parts",r),n.success(`Ù‚Ø·Ø¹Ù‡ ${i.productType==="imported"?"ÙˆØ§Ø±Ø¯Ø§ØªÛŒ":"ØªÙˆÙ„ÛŒØ¯ÛŒ"} Ø¬Ø¯ÛŒØ¯ Ø«Ø¨Øª Ø´Ø¯`)}f(),window.location.reload()}catch(r){if(console.error("Error creating part:",r),r&&typeof r=="object"&&"isNetworkError"in r){const d=r;d.isNetworkError?n.error("Ø¹Ø¯Ù… Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø³Ø±ÙˆØ± Ø¨Ø±Ø§ÛŒ Ø«Ø¨Øª Ù‚Ø·Ø¹Ù‡"):d.isAuthError?n.error("Ø®Ø·Ø§ÛŒ Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª"):n.error("Ø®Ø·Ø§ Ø¯Ø± Ø«Ø¨Øª Ù‚Ø·Ø¹Ù‡")}else n.error("Ø®Ø·Ø§ Ø¯Ø± Ø«Ø¨Øª Ù‚Ø·Ø¹Ù‡")}},b=s=>{console.log("Category changed to:",s),h(r=>({...r,categoryId:s,specifications:{}}))},T=(s,r)=>{h(d=>({...d,specifications:{...d.specifications,[s]:r}}))},te=s=>{H(s),s?(A(Array(S).fill("")),h(r=>({...r,serialNumber:""}))):(A([""]),O(1))},W=s=>{O(s);const r=Array(s).fill("");for(let d=0;d<Math.min(s,w.length);d++)r[d]=w[d]||"";A(r)},q=(s,r)=>{A(d=>{const v=[...d];return v[s]=r,v})},$=s=>{const r=s.target.files?.[0];if(r){if(!["application/pdf","image/jpeg","image/png","image/jpg"].includes(r.type)){n.error("ÙÙ‚Ø· ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ PDFØŒ JPG Ùˆ PNG Ù…Ø¬Ø§Ø² Ù‡Ø³ØªÙ†Ø¯");return}if(r.size>5*1024*1024){n.error("Ø­Ø¬Ù… ÙØ§ÛŒÙ„ Ù†Ø¨Ø§ÛŒØ¯ Ø¨ÛŒØ´ØªØ± Ø§Ø² Ûµ Ù…Ú¯Ø§Ø¨Ø§ÛŒØª Ø¨Ø§Ø´Ø¯");return}R(r),n.success("ÙØ§ÛŒÙ„ Ø¨Ø±Ú¯Ù‡ Ø³Ø¨Ø² ØªØ±Ø®ÛŒØµ Ú©Ø§Ù„Ø§ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯")}},k=s=>{h(r=>{const d={...r,productType:s};return s==="manufactured"?d.manufacturerCountry="Ø§ÛŒØ±Ø§Ù†":s==="imported"&&(d.manufacturerCountry=""),d}),s==="manufactured"&&L&&R(null)};return e.jsx("div",{className:"space-y-6",dir:"rtl",children:e.jsxs("form",{onSubmit:K,className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h3",{className:"font-medium text-blue-800 flex items-center gap-2 mb-4",children:"ğŸ“¦ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù¾Ø§ÛŒÙ‡ Ù‚Ø·Ø¹Ù‡"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"name",className:"text-blue-700 flex items-center gap-2",children:"ğŸ“ Ù†Ø§Ù… Ù‚Ø·Ø¹Ù‡ *"}),e.jsx(y,{id:"name",placeholder:"Ù†Ø§Ù… Ù‚Ø·Ø¹Ù‡ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯",value:i.name,onChange:s=>h(r=>({...r,name:s.target.value})),className:"bg-white border-blue-300",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"model",className:"text-blue-700 flex items-center gap-2",children:"ğŸ·ï¸ Ù…Ø¯Ù„ *"}),e.jsx(y,{id:"model",placeholder:"Ù…Ø¯Ù„ Ù‚Ø·Ø¹Ù‡",value:i.model,onChange:s=>h(r=>({...r,model:s.target.value})),className:"bg-white border-blue-300",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"category",className:"text-blue-700 flex items-center gap-2",children:"ğŸ“‚ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ù‚Ø·Ø¹Ù‡ *"}),e.jsxs(P,{value:i.categoryId,onValueChange:b,children:[e.jsx(_,{className:"bg-white border-blue-300",children:e.jsx(F,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ"})}),e.jsx(M,{children:c.flatMap(s=>s.children?s.children.map(r=>e.jsx(u,{value:r.id,children:r.name},r.id)):[e.jsx(u,{value:s.id,children:s.name},s.id)])})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"manufacturer",className:"text-blue-700 flex items-center gap-2",children:"ğŸ­ Ø³Ø§Ø²Ù†Ø¯Ù‡ *"}),e.jsx(y,{id:"manufacturer",placeholder:"Ù†Ø§Ù… Ø³Ø§Ø²Ù†Ø¯Ù‡",value:i.manufacturer,onChange:s=>h(r=>({...r,manufacturer:s.target.value})),className:"bg-white border-blue-300",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"brand",className:"text-blue-700 flex items-center gap-2",children:"ğŸ¢ Ø¨Ø±Ù†Ø¯"}),e.jsx(y,{id:"brand",placeholder:"Ù†Ø§Ù… Ø¨Ø±Ù†Ø¯",value:i.brand,onChange:s=>h(r=>({...r,brand:s.target.value})),className:"bg-white border-blue-300"})]})]})]}),e.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg border border-indigo-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-medium text-indigo-800 flex items-center gap-2",children:"ğŸ“Š Ù†Ø­ÙˆÙ‡ Ø«Ø¨Øª Ù‚Ø·Ø¹Ù‡"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(o,{htmlFor:"batch-mode",className:"text-indigo-700 flex items-center gap-2",children:"ğŸ“¦ Ø«Ø¨Øª Ø¯Ø³ØªÙ‡â€ŒØ§ÛŒ"}),e.jsx(Ge,{id:"batch-mode",checked:N,onCheckedChange:te})]})]}),N?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white p-3 rounded border border-indigo-300",children:[e.jsx("p",{className:"text-indigo-700 mb-3 flex items-center gap-2",children:"âœ¨ Ø­Ø§Ù„Øª Ø«Ø¨Øª Ø¯Ø³ØªÙ‡â€ŒØ§ÛŒ ÙØ¹Ø§Ù„ Ø§Ø³Øª"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{className:"text-indigo-700 flex items-center gap-2",children:"ğŸ”¢ ØªØ¹Ø¯Ø§Ø¯ Ù‚Ø·Ø¹Ø§Øª *"}),e.jsx(y,{type:"number",min:1,max:50,value:S,onChange:s=>W(Math.max(1,Math.min(50,parseInt(s.target.value)||1))),className:"bg-white border-indigo-300 text-left",dir:"ltr"}),e.jsx("p",{className:"text-xs text-indigo-600",children:"ğŸ’¡ Ø­Ø¯Ø§Ú©Ø«Ø± ÛµÛ° Ù‚Ø·Ø¹Ù‡ Ø¯Ø± Ù‡Ø± Ø¨Ø§Ø±"})]})})]}),e.jsxs("div",{className:"bg-white p-3 rounded border border-indigo-300",children:[e.jsx("h4",{className:"font-medium text-indigo-800 mb-3 flex items-center gap-2",children:"ğŸ·ï¸ Ø´Ù…Ø§Ø±Ù‡â€ŒÙ‡Ø§ÛŒ Ø³Ø±ÛŒØ§Ù„ Ù‚Ø·Ø¹Ø§Øª"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-64 overflow-y-auto",children:w.map((s,r)=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs(o,{className:"text-indigo-700 text-sm",children:["Ù‚Ø·Ø¹Ù‡ ",r+1]}),e.jsx(y,{placeholder:`Serial Number ${r+1}`,value:s,onChange:d=>q(r,d.target.value),className:"bg-white border-indigo-300 text-left",dir:"ltr",required:!0})]},r))}),e.jsx("p",{className:"text-xs text-indigo-600 mt-2",children:"âš ï¸ ØªÙ…Ø§Ù… Ø´Ù…Ø§Ø±Ù‡â€ŒÙ‡Ø§ÛŒ Ø³Ø±ÛŒØ§Ù„ Ø¨Ø§ÛŒØ¯ Ù…Ù†Ø­ØµØ± Ø¨Ù‡ ÙØ±Ø¯ Ø¨Ø§Ø´Ù†Ø¯"})]})]}):e.jsx("div",{className:"bg-white p-3 rounded border border-indigo-300",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"serialNumber",className:"text-indigo-700 flex items-center gap-2",children:"ğŸ”¢ Ø´Ù…Ø§Ø±Ù‡ Ø³Ø±ÛŒØ§Ù„ *"}),e.jsx(y,{id:"serialNumber",placeholder:"Serial Number",value:i.serialNumber,onChange:s=>h(r=>({...r,serialNumber:s.target.value})),className:"bg-white border-indigo-300 text-left",dir:"ltr",required:!0}),e.jsx("p",{className:"text-xs text-indigo-600",children:"ğŸ’¡ Ø¨Ø±Ø§ÛŒ Ø«Ø¨Øª Ú†Ù†Ø¯ÛŒÙ† Ù‚Ø·Ø¹Ù‡ Ø¨Ø§ Ù…Ø´Ø®ØµØ§Øª ÛŒÚ©Ø³Ø§Ù†ØŒ Ø­Ø§Ù„Øª Ø¯Ø³ØªÙ‡â€ŒØ§ÛŒ Ø±Ø§ ÙØ¹Ø§Ù„ Ú©Ù†ÛŒØ¯"})]})})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[e.jsx("h3",{className:"font-medium text-green-800 flex items-center gap-2 mb-4",children:"ğŸ’° Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù‚ÛŒÙ…Øª"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"price",className:"text-green-700 flex items-center gap-2",children:"ğŸ’µ Ù‚ÛŒÙ…Øª (Ø±ÛŒØ§Ù„)"}),e.jsx(y,{id:"price",type:"number",placeholder:"Ù‚ÛŒÙ…Øª Ù‚Ø·Ø¹Ù‡ Ø¨Ù‡ Ø±ÛŒØ§Ù„",value:i.price,onChange:s=>h(r=>({...r,price:s.target.value})),className:"bg-white border-green-300 text-left",dir:"ltr"}),e.jsx("p",{className:"text-xs text-green-600",children:'ğŸ’¡ Ø¯Ø± ØµÙˆØ±Øª Ø¹Ø¯Ù… ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯Ù†ØŒ Ù‚ÛŒÙ…Øª Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† "ØªØ¹ÛŒÛŒÙ† Ù†Ø´Ø¯Ù‡" Ø«Ø¨Øª Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯'})]})]}),i.categoryId&&e.jsx("div",{className:"bg-yellow-50 p-3 rounded border border-yellow-300",children:e.jsxs("p",{className:"text-xs text-yellow-800",children:["ğŸ› Debug: categoryId = ",i.categoryId,", selectedCategory = ",D?.name||"null",", specs = ",D?.technicalSpecs?.length||0]})}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[e.jsx("h3",{className:"font-medium text-purple-800 flex items-center gap-2 mb-4",children:"ğŸŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÙˆÙ„ÛŒØ¯/ÙˆØ§Ø±Ø¯Ø§Øª"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{className:"text-purple-700 flex items-center gap-2",children:"ğŸ­ Ù†ÙˆØ¹ Ù‚Ø·Ø¹Ù‡ *"}),e.jsxs(P,{value:i.productType,onValueChange:k,children:[e.jsx(_,{className:"bg-white border-purple-300",children:e.jsx(F,{})}),e.jsxs(M,{children:[e.jsx(u,{value:"manufactured",children:"ğŸ­ ØªÙˆÙ„ÛŒØ¯ÛŒ"}),e.jsx(u,{value:"imported",children:"ğŸš¢ ÙˆØ§Ø±Ø¯Ø§ØªÛŒ"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{className:"text-purple-700 flex items-center gap-2",children:["ğŸ“… ",i.productType==="manufactured"?"ØªØ§Ø±ÛŒØ® ØªÙˆÙ„ÛŒØ¯":"ØªØ§Ø±ÛŒØ® ÙˆØ§Ø±Ø¯Ø§Øª"]}),e.jsx(es,{value:i.productionDate,onChange:s=>h(r=>({...r,productionDate:s})),placeholder:i.productType==="manufactured"?"Ø§Ù†ØªØ®Ø§Ø¨ ØªØ§Ø±ÛŒØ® ØªÙˆÙ„ÛŒØ¯":"Ø§Ù†ØªØ®Ø§Ø¨ ØªØ§Ø±ÛŒØ® ÙˆØ§Ø±Ø¯Ø§Øª"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{className:"text-purple-700 flex items-center gap-2",children:["ğŸ³ï¸ Ú©Ø´ÙˆØ± Ø³Ø§Ø²Ù†Ø¯Ù‡ *",i.productType==="manufactured"&&e.jsx("span",{className:"text-xs text-green-600",children:"(Ø§ØªÙˆÙ…Ø§ØªÛŒÚ©)"})]}),e.jsxs(P,{value:i.manufacturerCountry,onValueChange:s=>h(r=>({...r,manufacturerCountry:s})),disabled:i.productType==="manufactured",children:[e.jsx(_,{className:`bg-white border-purple-300 ${i.productType==="manufactured"?"opacity-75 cursor-not-allowed":""}`,children:e.jsx(F,{placeholder:i.productType==="manufactured"?"Ø§ÛŒØ±Ø§Ù†":"Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ø´ÙˆØ±"})}),e.jsx(M,{children:pe.map(s=>e.jsx(u,{value:s,children:s},s))})]}),i.productType==="manufactured"&&e.jsx("p",{className:"text-xs text-green-600 flex items-center gap-1",children:"âœ¨ Ø¨Ø±Ø§ÛŒ Ù‚Ø·Ø¹Ø§Øª ØªÙˆÙ„ÛŒØ¯ÛŒØŒ Ú©Ø´ÙˆØ± Ø³Ø§Ø²Ù†Ø¯Ù‡ Ø§ØªÙˆÙ…Ø§ØªÛŒÚ© Ø§ÛŒØ±Ø§Ù† Ø§Ù†ØªØ®Ø§Ø¨ Ù…ÛŒâ€ŒØ´ÙˆØ¯"})]}),i.productType==="imported"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{className:"text-purple-700 flex items-center gap-2",children:"ğŸŒ Ú©Ø´ÙˆØ± Ù…Ø¨Ø¯Ø£"}),e.jsxs(P,{value:i.originCountry,onValueChange:s=>h(r=>({...r,originCountry:s})),children:[e.jsx(_,{className:"bg-white border-purple-300",children:e.jsx(F,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ø´ÙˆØ± Ù…Ø¨Ø¯Ø£"})}),e.jsx(M,{children:pe.map(s=>e.jsx(u,{value:s,children:s},s))})]})]})]}),i.productType==="imported"&&e.jsx("div",{className:"mt-4 space-y-3",children:e.jsxs("div",{className:"bg-orange-50 p-3 rounded border border-orange-300",children:[e.jsx("h4",{className:"font-medium text-orange-800 mb-3 flex items-center gap-2",children:"ğŸ“„ Ù…Ø¯Ø§Ø±Ú© ÙˆØ§Ø±Ø¯Ø§Øª (Ø§Ù„Ø²Ø§Ù…ÛŒ)"}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{className:"text-orange-700 flex items-center gap-2",children:"ğŸ“‹ Ø¨Ø±Ú¯Ù‡ Ø³Ø¨Ø² ØªØ±Ø®ÛŒØµ Ú©Ø§Ù„Ø§ *"}),e.jsx(y,{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:$,className:"bg-white border-orange-300"}),L&&e.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-1",children:["âœ… ÙØ§ÛŒÙ„ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡: ",L.name]}),e.jsx("p",{className:"text-xs text-orange-600",children:"ğŸ“ ÙØ±Ù…Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø¬Ø§Ø²: PDFØŒ JPGØŒ PNG | Ø­Ø¯Ø§Ú©Ø«Ø± Ø­Ø¬Ù…: Ûµ Ù…Ú¯Ø§Ø¨Ø§ÛŒØª"})]})})]})})]}),D&&D.technicalSpecs&&D.technicalSpecs.length>0&&e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[e.jsxs("h3",{className:"font-medium text-gray-800 flex items-center gap-2 mb-4",children:["âš™ï¸ Ù…Ø´Ø®ØµØ§Øª ÙÙ†ÛŒ (",D.name,")"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:D.technicalSpecs.map(s=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{className:"text-gray-700 flex items-center gap-2",children:["ğŸ”§ ",s.name," ",s.unit&&`(${s.unit})`]}),s.type==="list"?e.jsxs(P,{value:i.specifications[s.name]||"",onValueChange:r=>T(s.name,r),children:[e.jsx(_,{className:"bg-white border-gray-300",children:e.jsx(F,{placeholder:`Ø§Ù†ØªØ®Ø§Ø¨ ${s.name}`})}),e.jsx(M,{children:s.unit.split("/").map(r=>e.jsx(u,{value:r,children:r},r))})]}):s.type==="boolean"?e.jsxs(P,{value:i.specifications[s.name]||"",onValueChange:r=>T(s.name,r),children:[e.jsx(_,{className:"bg-white border-gray-300",children:e.jsx(F,{placeholder:`Ø§Ù†ØªØ®Ø§Ø¨ ${s.name}`})}),e.jsxs(M,{children:[e.jsx(u,{value:"true",children:"Ø¨Ù„Ù‡"}),e.jsx(u,{value:"false",children:"Ø®ÛŒØ±"})]})]}):e.jsx(y,{type:s.type==="number"?"number":"text",placeholder:`ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯Ù† ${s.name}`,value:i.specifications[s.name]||"",onChange:r=>T(s.name,r.target.value),className:"bg-white border-gray-300"})]},s.name))})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx(p,{type:"button",variant:"outline",onClick:f,className:"border-gray-300 text-gray-700 hover:bg-gray-50",children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsx(p,{type:"submit",className:"bg-black hover:bg-gray-800 text-white",children:"Ø«Ø¨Øª Ù‚Ø·Ø¹Ù‡"})]})]})})}function xs({part:c}){return e.jsx("div",{className:"space-y-6",dir:"rtl",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-3",children:e.jsxs(Le,{defaultValue:"info",className:"w-full",dir:"rtl",children:[e.jsxs(Re,{className:"grid w-full grid-cols-3",dir:"rtl",children:[e.jsx(Y,{value:"info",className:"text-right",children:"Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù¾Ø§ÛŒÙ‡"}),e.jsx(Y,{value:"features",className:"text-right",children:"Ù…Ø´Ø®ØµØ§Øª ÙÙ†ÛŒ"}),e.jsx(Y,{value:"history",className:"text-right",children:"ØªØ§Ø±ÛŒØ®Ú†Ù‡"})]}),e.jsx(Z,{value:"info",className:"space-y-4",dir:"rtl",children:e.jsxs(g,{className:"text-right",children:[e.jsx(G,{className:"text-right",children:e.jsx(z,{className:"text-lg text-right",children:"Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ù…Ù„ Ù‚Ø·Ø¹Ù‡"})}),e.jsx(j,{className:"text-right",children:e.jsxs("div",{className:"space-y-6 text-right",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-3 text-right",children:"Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù¾Ø§ÛŒÙ‡"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx(o,{className:"text-sm font-medium text-muted-foreground text-right",children:"Ù†Ø§Ù… Ù‚Ø·Ø¹Ù‡:"}),e.jsx("p",{className:"mt-1 font-medium text-right",children:c.title})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(o,{className:"text-sm font-medium text-muted-foreground text-right",children:"UID Ù‚Ø·Ø¹Ù‡:"}),e.jsx("p",{className:"mt-1 font-medium text-right font-mono",children:c.partUid})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(o,{className:"text-sm font-medium text-muted-foreground text-right",children:"Ø¨Ø§Ø±Ú©Ø¯:"}),e.jsx("p",{className:"mt-1 font-medium text-right font-mono",children:c.barcode||"Ø¨Ø¯ÙˆÙ† Ø¨Ø§Ø±Ú©Ø¯"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(o,{className:"text-sm font-medium text-muted-foreground text-right",children:"Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ:"}),e.jsx("p",{className:"mt-1 font-medium text-right",children:c.categoryName||"Ù†Ø§Ù…Ø´Ø®Øµ"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(o,{className:"text-sm font-medium text-muted-foreground text-right",children:"Ú©Ø´ÙˆØ± Ø³Ø§Ø²Ù†Ø¯Ù‡:"}),e.jsx("p",{className:"mt-1 font-medium text-right",children:c.manufacturerCountry})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(o,{className:"text-sm font-medium text-muted-foreground text-right",children:"Ú©Ø´ÙˆØ± Ù…Ø¨Ø¯Ø£:"}),e.jsx("p",{className:"mt-1 font-medium text-right",children:c.originCountry})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(o,{className:"text-sm font-medium text-muted-foreground text-right",children:"ÙˆØ¶Ø¹ÛŒØª:"}),e.jsx("div",{className:"mt-1",children:e.jsx(se,{variant:"secondary",className:be[c.status],children:ve[c.status]})})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(o,{className:"text-sm font-medium text-muted-foreground text-right",children:"Ù…Ø§Ù„Ú© ÙØ¹Ù„ÛŒ:"}),e.jsx("p",{className:"mt-1 font-medium text-right",children:c.currentOwner.type==="company"?c.currentOwner.companyName||c.registrantCompanyName||"Ø´Ø±Ú©Øª Ù†Ø§Ù…Ø´Ø®Øµ":c.currentOwner.elevatorName||"Ø¢Ø³Ø§Ù†Ø³ÙˆØ± Ù†Ø§Ù…Ø´Ø®Øµ"})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-3 text-right",children:"ØªØ§Ø±ÛŒØ®â€ŒÙ‡Ø§"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx(o,{className:"text-sm font-medium text-muted-foreground text-right",children:"ØªØ§Ø±ÛŒØ® Ø«Ø¨Øª:"}),e.jsx("p",{className:"mt-1 font-medium text-right",children:c.createdAt})]}),c.updatedAt&&e.jsxs("div",{className:"text-right",children:[e.jsx(o,{className:"text-sm font-medium text-muted-foreground text-right",children:"Ø¢Ø®Ø±ÛŒÙ† Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ:"}),e.jsx("p",{className:"mt-1 font-medium text-right",children:c.updatedAt})]})]})]})]})})]})}),e.jsx(Z,{value:"features",className:"space-y-4",dir:"rtl",children:e.jsxs(g,{className:"text-right",children:[e.jsx(G,{className:"text-right",children:e.jsx(z,{className:"text-lg text-right",children:"Ù…Ø´Ø®ØµØ§Øª ÙÙ†ÛŒ"})}),e.jsx(j,{className:"text-right",children:c.features&&c.features.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.features.map((f,i)=>e.jsxs("div",{className:"text-right",children:[e.jsxs(o,{className:"text-sm font-medium text-muted-foreground text-right",children:[f.name,":"]}),e.jsx("p",{className:"mt-1 font-medium text-right",children:f.value||"Ù†Ø§Ù…Ø´Ø®Øµ"})]},i))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(B,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),e.jsx("p",{className:"text-muted-foreground",children:"Ù…Ø´Ø®ØµØ§Øª ÙÙ†ÛŒ ØªØ¹Ø±ÛŒÙ Ù†Ø´Ø¯Ù‡"})]})})]})}),e.jsx(Z,{value:"history",className:"space-y-4",dir:"rtl",children:e.jsxs(g,{className:"text-right",children:[e.jsx(G,{className:"text-right",children:e.jsx(z,{className:"text-lg text-right",children:"ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ø§Ù†ØªÙ‚Ø§Ù„â€ŒÙ‡Ø§"})}),e.jsx(j,{className:"text-right",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(cs,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),e.jsx("p",{className:"text-muted-foreground",children:"ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ø§Ù†ØªÙ‚Ø§Ù„ Ø¯Ø± Ø¯Ø³ØªØ±Ø³ Ù†ÛŒØ³Øª"})]})})]})})]})}),e.jsxs("div",{className:"lg:col-span-1",dir:"rtl",children:[e.jsxs(g,{className:"text-right",children:[e.jsx(G,{className:"text-right",children:e.jsx(z,{className:"text-lg text-right",children:"Ú©Ø¯ QR Ù‚Ø·Ø¹Ù‡"})}),e.jsx(j,{className:"flex flex-col items-center space-y-4 text-right",children:c.qrCode?e.jsxs("div",{className:"text-center",children:[e.jsx("img",{src:c.qrCode,alt:"QR Code",className:"w-44 h-44 mx-auto"}),e.jsxs(p,{variant:"outline",size:"sm",className:"mt-3",onClick:()=>window.open(c.qrCode,"_blank"),children:[e.jsx(ds,{className:"w-4 h-4 ml-2"}),"Ø¯Ø§Ù†Ù„ÙˆØ¯"]})]}):e.jsx(Ye,{data:`https://elevatorid.ieeu.ir/part/${c.partUid}`,title:"Ú©Ø¯ QR Ù‚Ø·Ø¹Ù‡",size:180})})]}),e.jsxs(g,{className:"text-right mt-4",children:[e.jsx(G,{className:"text-right",children:e.jsx(z,{className:"text-lg text-right",children:"Ø¹Ù…Ù„ÛŒØ§Øª Ø³Ø±ÛŒØ¹"})}),e.jsxs(j,{className:"space-y-2",children:[e.jsxs(p,{variant:"outline",size:"sm",className:"w-full justify-start",children:[e.jsx(ye,{className:"w-4 h-4 ml-2"}),"Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø´Ù†Ø§Ø³Ù†Ø§Ù…Ù‡ PDF"]}),e.jsxs(p,{variant:"outline",size:"sm",className:"w-full justify-start",children:[e.jsx(os,{className:"w-4 h-4 ml-2"}),"Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¯Ø± Ø³Ø§ÛŒØª"]}),c.status==="available"&&e.jsxs(e.Fragment,{children:[e.jsxs(p,{variant:"outline",size:"sm",className:"w-full justify-start",children:[e.jsx(Ne,{className:"w-4 h-4 ml-2"}),"ÙØ±ÙˆØ´ Ù‚Ø·Ø¹Ù‡"]}),e.jsxs(p,{variant:"outline",size:"sm",className:"w-full justify-start",children:[e.jsx(fe,{className:"w-4 h-4 ml-2"}),"Ø§Ù†ØªÙ‚Ø§Ù„ Ù‚Ø·Ø¹Ù‡"]})]})]})]})]})]})})}export{Js as default};
