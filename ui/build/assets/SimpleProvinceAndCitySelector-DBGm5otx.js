import{r as m,j as e,L as S,x as M,M as y}from"./index-tH8kGzNV.js";import{S as I,a as C,b as w,c as P,d as b}from"./select-B8NiX_r6.js";import{c as o}from"./utils-BvTIn9cQ.js";import{g as E,i as t}from"./iran-provinces-cities-ClUeFN4S.js";function D({value:n,onChange:x,disabled:h=!1,required:p=!1,placeholder:j={province:"استان را انتخاب کنید",city:"شهر را انتخاب کنید"},className:V,layout:f="vertical"}){const[a,v]=m.useState(n?.provinceId),[c,l]=m.useState(n?.cityId);m.useEffect(()=>{v(n?.provinceId),l(n?.cityId)},[n]);const z=s=>{const i=parseInt(s),u=t.find(d=>d.id===i);v(i),l(void 0),x({provinceId:i,provinceName:u?.name,cityId:void 0,cityName:void 0})},A=s=>{const i=parseInt(s),d=(a?E(a):[]).find(r=>r.id===i),L=t.find(r=>r.id===a);l(i),x({provinceId:a,provinceName:L?.name,cityId:i,cityName:d?.name})},g=a?E(a):[],B=o("space-y-4",f==="horizontal"&&"lg:flex lg:space-y-0 lg:space-x-4 lg:space-x-reverse",V),N=o("space-y-2",f==="horizontal"&&"lg:flex-1");return e.jsxs("div",{className:B,children:[e.jsxs("div",{className:N,children:[e.jsxs(S,{className:"flex items-center gap-2",children:[e.jsx(M,{className:"w-4 h-4"}),"استان",p&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(I,{value:a?.toString()||"",onValueChange:z,disabled:h,children:[e.jsx(C,{className:"w-full h-10",children:e.jsx(w,{placeholder:j.province})}),e.jsx(P,{className:"max-h-60",children:t.map(s=>e.jsx(b,{value:s.id.toString(),children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("span",{className:"flex-1 text-right",children:s.name}),e.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:[s.cities.length," شهر"]})]})},s.id))})]})]}),e.jsxs("div",{className:N,children:[e.jsxs(S,{className:"flex items-center gap-2",children:[e.jsx(y,{className:"w-4 h-4"}),"شهر",p&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(I,{value:c?.toString()||"",onValueChange:A,disabled:!a||h,children:[e.jsx(C,{className:o("w-full h-10",!a&&"opacity-50"),children:e.jsx(w,{placeholder:a?j.city:"ابتدا استان را انتخاب کنید"})}),e.jsx(P,{className:"max-h-60",children:g.map(s=>e.jsx(b,{value:s.id.toString(),children:s.name},s.id))})]})]}),(a||c)&&e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{className:"w-4 h-4"}),e.jsx("span",{children:"انتخاب شده:"}),a&&e.jsx("span",{className:"font-medium",children:t.find(s=>s.id===a)?.name}),c&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"،"}),e.jsx("span",{className:"font-medium",children:g.find(s=>s.id===c)?.name})]})]})})]})}export{D as S};
