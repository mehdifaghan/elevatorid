import{u as U,r as u,j as e,C as N,e as v,B as n,o as L,z as J,D as Y,E as S,F as I,b as T,c as q,d as M,L as r,x as R,p as c,U as V,P as G,M as b,W as j,O as f,t as o}from"./index-tH8kGzNV.js";import{S as W,a as $,b as H,c as O,d as m}from"./select-B8NiX_r6.js";import{T as X}from"./textarea-1hTYB3HE.js";import{A as K,a as Q,b as Z}from"./avatar-MaNl8m6v.js";import{S as _}from"./separator-DLBvRYDr.js";import{X as B}from"./x-B6dSK8zO.js";import{I as ee,U as g}from"./upload-DrMB5nq4.js";import{M as se}from"./mail-B9fXdK0_.js";import{S as ae}from"./save-DxawmBER.js";import{F as y}from"./file-text-DbNNqFYp.js";import{C as le}from"./clock-BiwlPOks.js";import"./index-BdQq_4o_.js";import"./Combination-Dzecd94B.js";import"./index-BuiImgyP.js";import"./check-DV_4N94Y.js";const te=[{id:"production",label:"تولیدی"},{id:"trading",label:"بازرگانی"},{id:"installation",label:"نصب/مونتاژ"},{id:"maintenance",label:"نگهداری/تعمیر"}];function ye(){const{user:z}=U(),[t,w]=u.useState(!1),[re,C]=u.useState(null),[d,k]=u.useState(""),[s,i]=u.useState({companyName:"شرکت آسانسار تهران",nationalId:"14005678901",profileType:["installation","maintenance"],province:"تهران",city:"تهران",address:"تهران، خیابان ولیعصر، پلاک ۱۲۳",postalCode:"1234567890",ceoName:"احمد محمدی",ceoMobile:"09123456789",landlinePhone:"02122334455",email:"info@elevator-tehran.com",website:"www.elevator-tehran.com",establishedYear:"۱۳۹۵",employees:"۲۰-۵۰",logo:"",licenses:{businessLicense:"BL-123456",technicalLicense:"TL-789012",qualityLicense:""},status:"approved"}),A=l=>{const a=l.target.files?.[0];if(!a)return;if(!a.type.startsWith("image/")){o.error("لطفاً یک فایل تصویری انتخاب کنید");return}if(a.size>2*1024*1024){o.error("حجم فایل نباید بیشتر از ۲ مگابایت باشد");return}C(a);const h=new FileReader;h.onload=F=>{k(F.target?.result)},h.readAsDataURL(a)},P=()=>{C(null),k(""),i(l=>({...l,logo:""}))},D=()=>{if(!s.companyName||!s.nationalId||!s.ceoName||!s.province||!s.city||!s.address){o.error("لطفاً فیلدهای ضروری را پر کنید");return}o.success("پروفایل با موفقیت به‌روزرسانی شد"),w(!1)},p=l=>{const a=document.createElement("input");a.type="file",a.accept=".pdf,.jpg,.png",a.onchange=h=>{h.target.files?.[0]&&o.success(`فایل ${l} آپلود شد`)},a.click()},x=(l=>{switch(l){case"approved":return{label:"تایید شده",color:"bg-green-100 text-green-800",icon:j,description:"پروفایل شما تایید شده و می‌توانید از تمام خدمات استفاده کنید."};case"pending":return{label:"در انتظار تایید",color:"bg-yellow-100 text-yellow-800",icon:le,description:"پروفایل شما در حال بررسی است. لطفاً منتظر بمانید."};case"incomplete":return{label:"ناکامل",color:"bg-red-100 text-red-800",icon:f,description:"برای تکمیل پروفایل، لطفاً اطلاعات مطلوبه را ارائه دهید."};default:return{label:"نامشخص",color:"bg-gray-100 text-gray-800",icon:f,description:""}}})(s.status),E=x.icon;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"پروفایل شرکت"}),e.jsx("p",{className:"text-muted-foreground",children:"مدیریت اطلاعات و مدارک شرکت"})]}),e.jsx(N,{className:`border-2 ${s.status==="approved"?"border-green-200 bg-green-50":s.status==="pending"?"border-yellow-200 bg-yellow-50":"border-red-200 bg-red-50"}`,children:e.jsx(v,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3 flex-row-reverse",children:[s.status==="incomplete"&&e.jsx(n,{size:"sm",children:"تکمیل پروفایل"}),e.jsxs("div",{className:"flex-1 text-right",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1 justify-end flex-row-reverse",children:[e.jsx(L,{variant:"secondary",className:x.color,children:x.label}),e.jsx("span",{className:"font-medium",children:"وضعیت پروفایل:"})]}),e.jsx("p",{className:"text-sm",children:x.description})]}),e.jsx(E,{className:`w-5 h-5 ${s.status==="approved"?"text-green-600":s.status==="pending"?"text-yellow-600":"text-red-600"}`})]})})}),e.jsxs(J,{defaultValue:"info",className:"space-y-6",children:[e.jsxs(Y,{className:"grid w-full grid-cols-2",children:[e.jsx(S,{value:"documents",children:"مدارک و مجوزها"}),e.jsx(S,{value:"info",children:"اطلاعات شرکت"})]}),e.jsx(I,{value:"info",className:"space-y-6",children:e.jsxs(N,{children:[e.jsx(T,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-right order-2",children:[e.jsx(q,{children:"اطلاعات پایه شرکت"}),e.jsx(M,{children:"اطلاعات عمومی و تماس شرکت"})]}),e.jsx(n,{variant:t?"outline":"default",onClick:()=>w(!t),className:"order-1",children:t?"انصراف":"ویرایش"})]})}),e.jsxs(v,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-6 flex-row-reverse",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("h3",{className:"text-lg font-semibold",children:s.companyName}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["کد شرکت: CMP-",(z?.id||1001).toString().padStart(6,"0")]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["شناسه ملی: ",s.nationalId]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["مدیرعامل: ",s.ceoName]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.province," - ",s.city]})]}),e.jsx("div",{className:"flex gap-2 mt-2 flex-row-reverse",children:s.profileType.map(l=>e.jsx(L,{variant:"outline",children:te.find(a=>a.id===l)?.label},l))})]}),e.jsxs(K,{className:"w-20 h-20",children:[e.jsx(Q,{src:d||s.logo,alt:"لوگو شرکت"}),e.jsx(Z,{className:"text-lg",children:d||s.logo?e.jsx("img",{src:d||s.logo,alt:"لوگو شرکت",className:"w-full h-full object-contain"}):s.companyName?.charAt(0)||"ش"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(r,{className:"text-right block",children:"لوگو شرکت"}),e.jsxs("div",{className:"flex items-start gap-6 flex-row-reverse",children:[e.jsx("div",{className:"w-24 h-24 border-2 border-dashed border-muted-foreground/30 rounded-lg flex items-center justify-center bg-muted/20",children:d||s.logo?e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx("img",{src:d||s.logo,alt:"لوگو شرکت",className:"w-full h-full object-contain rounded-lg"}),t&&e.jsx(n,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -left-2 w-6 h-6 p-0 rounded-full",onClick:P,children:e.jsx(B,{className:"w-3 h-3"})})]}):e.jsx(ee,{className:"w-8 h-8 text-muted-foreground"})}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{className:"flex gap-3 flex-row-reverse",children:[e.jsx("input",{type:"file",id:"logo-upload",accept:"image/*",onChange:A,disabled:!t,className:"hidden"}),e.jsxs(n,{type:"button",variant:"outline",size:"sm",onClick:()=>document.getElementById("logo-upload")?.click(),disabled:!t,className:"gap-2",children:[e.jsx(g,{className:"w-4 h-4"}),d||s.logo?"تغییر لوگو":"آپلود لوگو"]}),(d||s.logo)&&t&&e.jsxs(n,{type:"button",variant:"outline",size:"sm",onClick:P,className:"gap-2 text-destructive hover:text-destructive-foreground",children:[e.jsx(B,{className:"w-4 h-4"}),"حذف لوگو"]})]}),e.jsxs("div",{className:"text-xs text-muted-foreground space-y-1 text-right",children:[e.jsx("p",{children:"• فرمت‌های پشتیبانی شده: JPG, PNG, GIF, WebP"}),e.jsx("p",{children:"• حداکثر حجم فایل: ۲ مگابایت"}),e.jsx("p",{children:"• ابعاد پیشنهادی: ۲۰۰×۲۰۰ پیکسل"}),e.jsx("p",{children:"• کیفیت بالا و پس‌زمینه شفاف ترجیح داده می‌شود"})]})]})]})]}),e.jsx(_,{}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h4",{className:"text-right",children:"اطلاعات پایه"}),e.jsx("p",{className:"text-sm text-muted-foreground text-right",children:"مشخصات کلی و اطلاعات تماس شرکت"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"companyName",className:"text-right block",children:"نام شرکت *"}),e.jsxs("div",{className:"relative",children:[e.jsx(R,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(c,{id:"companyName",value:s.companyName,onChange:l=>i(a=>({...a,companyName:l.target.value})),disabled:!t,className:"pr-10 text-right",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"nationalId",className:"text-right block",children:"شناسه ملی *"}),e.jsx(c,{id:"nationalId",value:s.nationalId,onChange:l=>i(a=>({...a,nationalId:l.target.value})),disabled:!t,className:"text-left",dir:"ltr",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"ceoName",className:"text-right block",children:"نام مدیرعامل *"}),e.jsxs("div",{className:"relative",children:[e.jsx(V,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(c,{id:"ceoName",value:s.ceoName,onChange:l=>i(a=>({...a,ceoName:l.target.value})),disabled:!t,className:"pr-10 text-right",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"ceoMobile",className:"text-right block",children:"موبایل مدیرعامل *"}),e.jsxs("div",{className:"relative",children:[e.jsx(G,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(c,{id:"ceoMobile",value:s.ceoMobile,onChange:l=>i(a=>({...a,ceoMobile:l.target.value})),disabled:!t,className:"pr-10 text-left",dir:"ltr",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"landlinePhone",className:"text-right block",children:"تلفن ثابت"}),e.jsxs("div",{className:"relative",children:[e.jsx(G,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(c,{id:"landlinePhone",value:s.landlinePhone,onChange:l=>i(a=>({...a,landlinePhone:l.target.value})),disabled:!t,className:"pr-10 text-left",dir:"ltr"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"email",className:"text-right block",children:"ایمیل *"}),e.jsxs("div",{className:"relative",children:[e.jsx(se,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(c,{id:"email",type:"email",value:s.email,onChange:l=>i(a=>({...a,email:l.target.value})),disabled:!t,className:"pr-10 text-left",dir:"ltr",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"website",className:"text-right block",children:"وب‌سایت"}),e.jsx(c,{id:"website",value:s.website,onChange:l=>i(a=>({...a,website:l.target.value})),disabled:!t,className:"text-left",dir:"ltr"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"establishedYear",className:"text-right block",children:"سال تأسیس"}),e.jsx(c,{id:"establishedYear",value:s.establishedYear,onChange:l=>i(a=>({...a,establishedYear:l.target.value})),disabled:!t,className:"text-right"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"employees",className:"text-right block",children:"تعداد کارکنان"}),e.jsxs(W,{value:s.employees,onValueChange:l=>i(a=>({...a,employees:l})),disabled:!t,children:[e.jsx($,{className:"text-right",children:e.jsx(H,{})}),e.jsxs(O,{children:[e.jsx(m,{value:"1-10",children:"۱-۱۰ نفر"}),e.jsx(m,{value:"11-20",children:"۱۱-۲۰ نفر"}),e.jsx(m,{value:"21-50",children:"۲۱-۵۰ نفر"}),e.jsx(m,{value:"51-100",children:"۵۱-۱۰۰ نفر"}),e.jsx(m,{value:"100+",children:"بیش از ۱۰۰ نفر"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"province",className:"text-right block",children:"استان *"}),e.jsxs("div",{className:"relative",children:[e.jsx(b,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(c,{id:"province",value:s.province,onChange:l=>i(a=>({...a,province:l.target.value})),disabled:!t,className:"pr-10 text-right",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"city",className:"text-right block",children:"شهر *"}),e.jsxs("div",{className:"relative",children:[e.jsx(b,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(c,{id:"city",value:s.city,onChange:l=>i(a=>({...a,city:l.target.value})),disabled:!t,className:"pr-10 text-right",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"postalCode",className:"text-right block",children:"کدپستی"}),e.jsx(c,{id:"postalCode",value:s.postalCode,onChange:l=>i(a=>({...a,postalCode:l.target.value})),disabled:!t,className:"text-left",dir:"ltr"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"address",className:"text-right block",children:"آدرس کامل *"}),e.jsxs("div",{className:"relative",children:[e.jsx(b,{className:"absolute right-3 top-3 text-muted-foreground w-4 h-4"}),e.jsx(X,{id:"address",value:s.address,onChange:l=>i(a=>({...a,address:l.target.value})),disabled:!t,className:"pr-10 text-right",rows:3,required:!0})]})]}),t&&e.jsx("div",{className:"flex justify-end",children:e.jsxs(n,{onClick:D,children:[e.jsx(ae,{className:"w-4 h-4 mr-2"}),"ذخیره تغییرات"]})})]})]})}),e.jsx(I,{value:"documents",children:e.jsxs(N,{children:[e.jsxs(T,{className:"text-right",children:[e.jsx(q,{children:"مدارک و مجوزها"}),e.jsx(M,{children:"آپلود و مدیریت مدارک قانونی شرکت"})]}),e.jsxs(v,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(r,{className:"text-right block",children:"جواز کسب *"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[e.jsx(y,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm font-medium",children:s.licenses.businessLicense?"آپلود شده":"آپلود نشده"}),e.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"فرمت: PDF, JPG, PNG - حداکثر ۵MB"}),e.jsxs(n,{size:"sm",variant:"outline",onClick:()=>p("جواز کسب"),children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),s.licenses.businessLicense?"تغییر فایل":"انتخاب فایل"]})]}),s.licenses.businessLicense&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 justify-end flex-row-reverse",children:["شماره: ",s.licenses.businessLicense,e.jsx(j,{className:"w-4 h-4"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(r,{className:"text-right block",children:"مجوز فنی"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[e.jsx(y,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm font-medium",children:s.licenses.technicalLicense?"آپلود شده":"آپلود نشده"}),e.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"فرمت: PDF, JPG, PNG - حداکثر ۵MB"}),e.jsxs(n,{size:"sm",variant:"outline",onClick:()=>p("مجوز فنی"),children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),s.licenses.technicalLicense?"تغییر فایل":"انتخاب فایل"]})]}),s.licenses.technicalLicense&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 justify-end flex-row-reverse",children:["شماره: ",s.licenses.technicalLicense,e.jsx(j,{className:"w-4 h-4"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(r,{className:"text-right block",children:"گواهی کیفیت"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[e.jsx(y,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm font-medium",children:s.licenses.qualityLicense?"آپلود شده":"آپلود نشده"}),e.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"فرمت: PDF, JPG, PNG - حداکثر ۵MB"}),e.jsxs(n,{size:"sm",variant:"outline",onClick:()=>p("گواهی کیفیت"),children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),s.licenses.qualityLicense?"تغییر فایل":"انتخاب فایل"]})]}),s.licenses.qualityLicense&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 justify-end flex-row-reverse",children:["شماره: ",s.licenses.qualityLicense,e.jsx(j,{className:"w-4 h-4"})]})]})]}),e.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3 flex-row-reverse",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("h4",{className:"font-medium text-blue-800",children:"راهنمای آپلود مدارک"}),e.jsxs("ul",{className:"text-sm text-blue-700 mt-1 space-y-1",children:[e.jsx("li",{children:"• تمام مدارک باید واضح و قابل خواندن باشند"}),e.jsx("li",{children:"• فرمت‌های مجاز: PDF، JPG، PNG"}),e.jsx("li",{children:"• حداکثر حجم هر فایل: ۵ مگابایت"}),e.jsx("li",{children:"• مدارک باید معتبر و به‌روز باشند"})]})]}),e.jsx(f,{className:"w-5 h-5 text-blue-600 mt-0.5"})]})})]})]})})]})]})}export{ye as default};
