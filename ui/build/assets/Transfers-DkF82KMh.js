import{r as n,j as e,C as d,e as i,b as E,p as A,B as u,V as F,O as H,W as M,v as P,U as v,G as z,o as T,Q as $,w as O,t as C}from"./index-tH8kGzNV.js";import{T as U,a as G,b as w,c as l,d as Q,e as r}from"./table-DC3MYrD8.js";import{D as W,b as q,c as J,d as K,e as X}from"./dialog-DAjwwShP.js";import{D as Y,a as Z,b as _,c as b}from"./dropdown-menu-BKfQT_JD.js";import{S as ee,a as se,b as ae,c as te,d as o}from"./select-B8NiX_r6.js";import{S as le}from"./search-8LTSveb2.js";import{D as y}from"./download-BGqk_jGh.js";import{C as re}from"./clock-BiwlPOks.js";import{E as ce}from"./ellipsis-J_HkHiqq.js";import"./index-DGGMjIYi.js";import"./Combination-Dzecd94B.js";import"./x-B6dSK8zO.js";import"./chevron-right-B97jr1RJ.js";import"./check-DV_4N94Y.js";import"./index-BdQq_4o_.js";import"./index-BuiImgyP.js";const S=[{id:"1",partId:"P001",partName:"موتور آسانسور AC",partSerial:"AC20001234",fromCompanyId:"1",fromCompanyName:"شرکت قطعات پارس",toCompanyId:"2",toCompanyName:"شرکت آسانسار تهران",transferDate:"۱۴۰۲/۰۹/۱۵",status:"completed",reason:"فروش"},{id:"2",partId:"P002",partName:"کنترلر فرکانس VFD",partSerial:"VFD5005678",fromCompanyId:"2",fromCompanyName:"شرکت آسانسار تهران",toCompanyId:"3",toCompanyName:"شرکت نصب سریع",transferDate:"۱۴۰۲/۰۹/۱۲",status:"pending",reason:"انتقال برای نصب",notes:"در انتظار تایید مدیرعامل"}],D={pending:"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"},I={pending:"در انتظار",completed:"تکمیل شده",cancelled:"لغو شده"},L={pending:re,completed:M,cancelled:H};function Se(){const[a,x]=n.useState(S),[c,k]=n.useState(""),[h,R]=n.useState("all"),[j,N]=n.useState(null),[p,g]=n.useState(!1),f=a.filter(s=>{const t=s.partName.toLowerCase().includes(c.toLowerCase())||s.partSerial.toLowerCase().includes(c.toLowerCase())||s.fromCompanyName.toLowerCase().includes(c.toLowerCase())||s.toCompanyName.toLowerCase().includes(c.toLowerCase()),B=h==="all"||s.status===h;return t&&B}),m={total:a.length,pending:a.filter(t=>t.status==="pending").length,completed:a.filter(t=>t.status==="completed").length,cancelled:a.filter(t=>t.status==="cancelled").length},V=async()=>{g(!0);try{await new Promise(s=>setTimeout(s,1e3)),x(S),C.success("داده‌ها با موفقیت به‌روزرسانی شد")}catch{C.error("خطا در به‌روزرسانی داده‌ها")}finally{g(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"انتقال‌های قطعات"}),e.jsx("p",{className:"text-muted-foreground",children:"تاریخچه تمامی انتقال‌های انجام شده"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsx(d,{className:"border-l-4 border-l-blue-500",children:e.jsx(i,{className:"p-3",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl font-bold text-blue-600",children:m.total}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"کل انتقال‌ها"})]})})}),e.jsx(d,{className:"border-l-4 border-l-yellow-500",children:e.jsx(i,{className:"p-3",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl font-bold text-yellow-600",children:m.pending}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"در انتظار"})]})})}),e.jsx(d,{className:"border-l-4 border-l-green-500",children:e.jsx(i,{className:"p-3",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl font-bold text-green-600",children:m.completed}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"تکمیل شده"})]})})}),e.jsx(d,{className:"border-l-4 border-l-red-500",children:e.jsx(i,{className:"p-3",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl font-bold text-red-600",children:m.cancelled}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"لغو شده"})]})})})]}),e.jsxs(d,{children:[e.jsx(E,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[e.jsxs("div",{className:"flex-1 flex gap-2",children:[e.jsxs("div",{className:"relative flex-1 max-w-sm",children:[e.jsx(le,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(A,{placeholder:"جستجو بر اساس قطعه یا شرکت...",value:c,onChange:s=>k(s.target.value),className:"pr-10"})]}),e.jsxs(u,{variant:"outline",size:"sm",onClick:V,disabled:p,className:"gap-2 shrink-0",children:[e.jsx(F,{className:`h-4 w-4 ${p?"animate-spin":""}`}),p?"در حال بارگذاری...":"تازه‌سازی"]}),e.jsxs(ee,{value:h,onValueChange:R,children:[e.jsx(se,{className:"w-32",children:e.jsx(ae,{placeholder:"وضعیت"})}),e.jsxs(te,{children:[e.jsx(o,{value:"all",children:"همه"}),e.jsx(o,{value:"pending",children:"در انتظار"}),e.jsx(o,{value:"completed",children:"تکمیل شده"}),e.jsx(o,{value:"cancelled",children:"لغو شده"})]})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(u,{variant:"outline",size:"sm",children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"خروجی CSV"]})})]})}),e.jsxs(i,{children:[e.jsx("div",{className:"rounded-lg border",children:e.jsxs(U,{children:[e.jsx(G,{children:e.jsxs(w,{children:[e.jsx(l,{children:"قطعه"}),e.jsx(l,{children:"از شرکت"}),e.jsx(l,{children:"به شرکت"}),e.jsx(l,{children:"تاریخ انتقال"}),e.jsx(l,{children:"دلیل"}),e.jsx(l,{children:"وضعیت"}),e.jsx(l,{children:"عملیات"})]})}),e.jsx(Q,{children:f.map(s=>{const t=L[s.status];return e.jsxs(w,{children:[e.jsx(r,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"w-4 h-4 text-blue-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.partName}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.partSerial})]})]})}),e.jsx(r,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"w-4 h-4 text-gray-500"}),s.fromCompanyName]})}),e.jsx(r,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"w-4 h-4 text-gray-500"}),s.toCompanyName]})}),e.jsx(r,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(z,{className:"w-4 h-4 text-gray-500"}),s.transferDate]})}),e.jsx(r,{children:s.reason}),e.jsx(r,{children:e.jsxs(T,{variant:"secondary",className:`${D[s.status]} flex items-center gap-1 w-fit`,children:[e.jsx(t,{className:"w-3 h-3"}),I[s.status]]})}),e.jsx(r,{children:e.jsxs(Y,{children:[e.jsx(Z,{asChild:!0,children:e.jsx(u,{variant:"ghost",size:"sm",children:e.jsx(ce,{className:"w-4 h-4"})})}),e.jsxs(_,{align:"end",dir:"rtl",children:[e.jsxs(b,{onClick:()=>N(s),children:[e.jsx($,{className:"w-4 h-4 mr-2"}),"مشاهده جزئیات"]}),e.jsxs(b,{children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"دانلود مدارک"]})]})]})})]},s.id)})})]})}),f.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(O,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"انتقالی یافت نشد"})]})]})]}),j&&e.jsx(W,{open:!!j,onOpenChange:()=>N(null),children:e.jsxs(q,{className:"max-w-2xl",dir:"rtl",children:[e.jsxs(J,{className:"text-right",children:[e.jsx(K,{className:"text-right",children:"جزئیات انتقال"}),e.jsx(X,{className:"text-right",children:"اطلاعات کامل انتقال قطعه"})]}),e.jsx(ne,{transfer:j})]})})]})}function ne({transfer:a}){const x=L[a.status];return e.jsxs("div",{className:"space-y-6",dir:"rtl",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"اطلاعات قطعه"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"نام قطعه:"}),e.jsx("span",{className:"mr-2 font-medium",children:a.partName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"شماره سریال:"}),e.jsx("span",{className:"mr-2 font-medium",children:a.partSerial})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"وضعیت انتقال"}),e.jsxs(T,{variant:"secondary",className:`${D[a.status]} flex items-center gap-1 w-fit`,children:[e.jsx(x,{className:"w-3 h-3"}),I[a.status]]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"شرکت فرستنده"}),e.jsx("p",{className:"text-sm",children:a.fromCompanyName})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"شرکت گیرنده"}),e.jsx("p",{className:"text-sm",children:a.toCompanyName})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"جزئیات انتقال"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"تاریخ انتقال:"}),e.jsx("span",{className:"mr-2 font-medium",children:a.transferDate})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"دلیل انتقال:"}),e.jsx("span",{className:"mr-2 font-medium",children:a.reason})]}),a.notes&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"یادداشت:"}),e.jsx("span",{className:"mr-2",children:a.notes})]})]})]})]})}export{Se as default};
